> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [mp.weixin.qq.com](https://mp.weixin.qq.com/s/MingzWHJhVKjN7bWgXHTvA)

è®¸å¤šå›½å†…ä¼ä¸šæ­£ç§¯æå¼€æ‹“å›½é™…å¸‚åœºï¼Œå¦‚ Shopeeã€é˜¿é‡Œçš„ Lazadaã€å­—èŠ‚çš„ TikTokã€æ‹¼å¤šå¤šæµ·å¤–ç‰ˆ Temuã€ä»¥åŠæœè£…å¿«æ¶ˆé¢†åŸŸçš„ Shein ç­‰ã€‚å½“å›½å†…å¸‚åœºå­˜é‡ä¸šåŠ¡è¾¾åˆ°å³°å€¼é¢„æœŸæ—¶ï¼Œæµ·å¤–ä¸šåŠ¡æˆä¸ºå„å…¬å¸æœªæ¥æ”¶å…¥å¢é•¿çš„ä¸»è¦åŠ¨åŠ›ï¼Œå› æ­¤ï¼Œå›½é™…åŒ–å·²æˆä¸ºè¶Šæ¥è¶Šé‡è¦çš„èŒä¸šå‘å±•æ–¹å‘ã€‚

å›½å†… IT ä¼ä¸šæ”¶å…¥å¤©èŠ±æ¿:Â **ã€Œ10 äº¿ X2 å…ƒ X365 å¤© = 7300 äº¿å…ƒã€**ï¼Œä¹Ÿå°±æ˜¯ 10 äº¿äººå£ï¼Œä¼ä¸šæ¯å¤©èµšå–ç”¨æˆ· 2 å…ƒï¼Œä¿æŒ 365 å¤©ï¼Œå°±æ˜¯å•ä¸šåŠ¡å¢é•¿çš„è¥æ”¶å¤©èŠ±æ¿ (å¤§éƒ¨åˆ†ä¸šåŠ¡èµšä¸åˆ° 2 å…ƒï¼Œç”¨æˆ·é‡ä¹Ÿæ²¡åˆ° 10 äº¿)ã€‚æ¯”å¦‚è§†é¢‘å¦‚æœ 60 å…ƒä¸€ä¸ªæœˆé‚£ä¼šå‘˜è¥æ”¶å¤©èŠ±æ¿å°±å¯ä»¥è¿™ä¹ˆé¢„ä¼°. ç”šè‡³æ¯”è¿™ä¸ªè¿˜ä½, æ¯•ç«Ÿç”¨æˆ·ä¼šæµå¤±, æ‹‰æ–°ä¹Ÿè¦æˆæœ¬, è¿è¥æˆæœ¬æ˜¯åœ¨é€’å¢çš„ã€‚

å›½é™…åŒ–ä¸ä»…ä»…æ˜¯å¤šè¯­è¨€æ–‡æ¡ˆé€‚é…è¿™ä¹ˆç®€å•ï¼Œè€Œæ˜¯ä¸€å…¨å¥—çš„å·¥ç¨‹åŒ–è§£å†³æ–¹æ¡ˆã€‚ç¬”è€…è§‰å¾—æ›´é‡è¦çš„æ˜¯**ã€Œä»ä¸šäººå‘˜éœ€è¦å…·å¤‡å…¨çƒè§†é‡ï¼Œå¯¹å¤šå…ƒæ–‡åŒ–æœ‰åŒ…å®¹å¿ƒå’Œæ•¬ç•å¿ƒç†ï¼ŒåŒæ—¶çŸ¥è¯†é¢è¦æ±‚ä¹Ÿè¾ƒé«˜ã€**ã€‚æ¯”å¦‚ï¼Œäº†è§£ SEAã€USã€UK ç­‰å¸¸è§åœ°åŒºçš„ç®€å†™ï¼Œå°Šé‡ä¼Šæ–¯å…°æ•™çš„æ–‹æœˆèŠ‚ç­‰ä¹ ä¿—ã€‚å¯¹äºæœåŠ¡å…¨çƒç”¨æˆ·çš„äº§å“æ¥è¯´ï¼Œå¯¹åº”äº§å“çš„è¦æ±‚æ›´åŠ å¤æ‚ï¼Œå¤šæ ·æ€§ä½“ç°åœ¨ä¸åŒçš„æ–‡åŒ–ä¹ ä¿—å·®å¼‚ä¸Šï¼Œå…¶å®å³ä¾¿åœ¨åºå¤§çš„ä¸­å›½å†…éƒ¨ä¹Ÿå­˜åœ¨å—åŒ—å·®å¼‚ã€‚äº†è§£çš„è¶Šå¤šè¶Šå‘ç°è¿™ä¸ªä¸–ç•Œçš„ â€œå¤šæ ·æ€§â€ã€‚

æ¦‚å¿µè¯´æ˜
====

è‹¹æœé”®ç›˜æ€ä¹ˆå–å¤šå›½?
----------

è‹¹æœé”®ç›˜æœ‰å¾ˆå¤šå‹å·ä¸åŒå‹å·çš„å¸ƒå±€ä¸ä¸€æ · https://www.apple.com/shop/product/MK2A3J/A/magic-keyboard-japanese

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibG4aFhQjbLmTdaqPO7LK16XMoy6x2bdUpjhibvxKjWnWpZulTZLibmubzg/640?wx_fmt=png&from=appmsg)apple-keyboard

é‚£å¦‚ä½•æ¨¡ä»¿è‹¹æœé€ ä¸€æŠŠå¯ä»¥å–åˆ°ä¸–ç•Œå„åœ°çš„é”®ç›˜?Â 

1.  ç”µè·¯æ¿ç­‰ç¡¬ä»¶é…ä»¶ç»Ÿä¸€ç”Ÿäº§
    
2.  åˆ¶å®šä¸‰ç§å¸ƒå±€æ–¹æ¡ˆ (Arabic, Russian, Ukrainian å½’ä¸ºä¸€ç§, Chinese (Zhuyin) å’Œ Korean ä¸ºä¸€ç§, Japanese ä¸ºä¸€ç§)ï¼Œå•ç‹¬å¼€å­”
    
3.  é”®å¸½å°åˆ·ä¸åŒè¯­è¨€çš„æ–‡æ¡ˆ
    
4.  MacOS å¼€å‘è¯­è¨€è¾“å…¥è½¯ä»¶é€‚é…ä¸åŒé”®ç›˜çš„è¯­è¨€è¾“å…¥
    

å…¶ä¸­ 2ï¼Œ3ï¼Œ4 éƒ½æ˜¯ä¸ºäº§å“çš„å…¨çƒåŒ–æœåŠ¡

å…¨çƒåŒ– = å›½é™…åŒ– i18n + æœ¬åœ°åŒ– l10n
-------------------------

https://en.wikipedia.org/wiki/Internationalization_and_localization

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGCwY6fttGX8roTnMicpmClLEenyL4UAsFRNDF4icDBO59IXqTBm6em9MQ/640?wx_fmt=png&from=appmsg)globalization

1.  äº§å“è®¾è®¡å’Œå¼€å‘éƒ¨ç½²éœ€è¦éœ€è¦è€ƒè™‘å›½é™…åŒ– i18n
    

1.  å¤šè¯­è¨€
    
2.  å¤šå¸ƒå±€ï¼Œå¦‚é˜¿æ‹‰ä¼¯è¯­çš„ RTL
    
3.  å¤šè´§å¸
    
4.  å…¨çƒå¤šåœ°åŒºå¤šæœºæˆ¿éƒ¨ç½² (ç¦»ç”¨æˆ·è¶Šè¿‘æœåŠ¡ä½“éªŒè¶Šå¥½ï¼Œæ•°æ®ç‰©ç†å­˜å‚¨éš”ç¦»ç¬¦åˆå„ä¸ªå›½å®¶æ•°æ®å®‰å…¨è¦æ±‚)
    

3.  äº§å“æœ¬åœ°åŒ– L10N æ˜¯å›½é™…åŒ–åçš„**ã€Œå¯é€‰ã€**æµç¨‹ï¼Œéœ€è¦å¼•å…¥**ã€Œæœ¬åœ°åŒ–å›¢é˜Ÿã€**è½¬åŒ–å’Œè´¨é‡éªŒæ”¶ï¼Œå†æŠ•å…¥æœ¬åœ°åŒ–å¸‚åœº
    

1.  æœ¬åœ°åŒ–æ­¥éª¤æ˜¯å¯é€‰çš„ï¼Œå¦‚è‹±ç¾äº§å“ UIï¼Œè¯­è¨€åŸºæœ¬ä¸€è‡´å¯äº’é€šï¼Œæœ¬åœ°åŒ–æŠ•å…¥å°‘
    
2.  ä¸­æ–‡åœ°åŒºç­‰æœ‰ç®€ä½“ç¹ä½“ï¼Œä¸åŒåœ°åŒºç”¨è¯­ä¹ æƒ¯ä¸ä¸€æ ·ï¼Œä¹Ÿè¦ç‰¹åˆ«å…¼é¡¾ï¼Œå¦‚é¦™æ¸¯çš„ç²¤è¯­å’Œå¹¿å·çš„ç²¤è¯­ï¼Œåœ¨ä¸€äº›ç”¨è¯æœ‰åŒºåˆ«ï¼Œåƒå¸ç®¡ (å¹¿å·)ï¼é¥®ç­’ (é¦™æ¸¯)ï¼Œä½ å¯ä»¥çœ‹ https://www.zhihu.com/question/20663233
    
3.  é˜¿æ‹‰ä¼¯è¯­ï¼Œå¸Œä¼¯æ¥è¯­ç­‰åœ°åŒº RTL çš„é˜…è¯»ä¹ æƒ¯ï¼Œå¯¹äº§å“æ”¹åŠ¨è¾ƒå¤§éœ€è¦ç‰¹æ®Šé€‚é…
    

å›½é™…åŒ–
---

äº§å“é¢å‘å…¨çƒç”¨æˆ·ï¼Œéœ€è¦åšè¯­è¨€é€‚é…ï¼Œé’ˆå¯¹ä¸åŒå›½å®¶åœ°åŒºçš„ç”¨æˆ·æä¾›å¯¹åº”è¯­è¨€çš„ç‰ˆæœ¬ã€‚æœ¬è´¨æ˜¯**ã€Œæ–‡æœ¬æ›¿æ¢ã€**ï¼Œä¹Ÿè¦è€ƒè™‘æ–‡æœ¬é˜…è¯»æ–¹å‘ï¼Œæ¯”å¦‚é˜¿æ‹‰ä¼¯è¯­å’Œå¸Œä¼¯æ¥è¯­æ˜¯ä»å³åˆ°å·¦ã€‚

å¯ä»¥çœ‹ä¸‹ Apple çš„åšæ³•ï¼Œå¯¹ä¸åŒå›½å®¶åœ°åŒºæä¾›ä¸åŒæœåŠ¡

*   Apple US å¯¹åº”é“¾æ¥ https://www.apple.com/
    
*   Apple CN Â å¯¹åº”é“¾æ¥ https://www.apple.com.cn/
    
*   Apple HK å¯¹åº”é“¾æ¥ https://www.apple.com/hk/en/
    

å¸¸è§åœ°åŒºè¯­è¨€å¯¹åº”å…³ç³»å¯ä»¥çœ‹ ISO 3166-1(https://baike.baidu.com/item/ISO%203166-1/5269555?fr=ge_ala)

Intl
----

MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl

æµè§ˆå™¨ä¸­çš„Â `Intl`Â æ˜¯ä¸€ä¸ªå†…ç½®çš„ JavaScript å¯¹è±¡ï¼Œç”¨äºå›½é™…åŒ–ï¼ˆInternationalizationï¼‰æ”¯æŒã€‚å®ƒæä¾›äº†å¤„ç†æ—¥æœŸã€æ—¶é—´ã€æ•°å­—æ ¼å¼åŒ–ä»¥åŠè´§å¸å’Œè¯­è¨€çš„èƒ½åŠ›ï¼Œä»¥ä¾¿ç½‘ç«™èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„è¯­è¨€å’Œåœ°åŒºä¹ æƒ¯æ¥æ˜¾ç¤ºå†…å®¹ã€‚åœ¨ JavaScript ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Â `Intl`Â å¯¹è±¡æ¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1.  æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´ï¼šä½¿ç”¨Â `Intl.DateTimeFormat`Â å¯¹è±¡å¯ä»¥æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´ï¼Œå¹¶æ ¹æ®ç”¨æˆ·çš„åœ°åŒºåå¥½æ˜¾ç¤ºæ—¥æœŸå’Œæ—¶é—´ã€‚
    
2.  æ ¼å¼åŒ–æ•°å­—ï¼šä½¿ç”¨Â `Intl.NumberFormat`Â å¯¹è±¡å¯ä»¥æ ¼å¼åŒ–æ•°å­—ï¼Œå¹¶æ ¹æ®ç”¨æˆ·çš„åœ°åŒºåå¥½æ˜¾ç¤ºæ•°å­—ã€‚
    
3.  å¤„ç†è´§å¸ï¼šä½¿ç”¨Â `Intl.NumberFormat`Â å¯¹è±¡ç»“åˆæŒ‡å®šçš„è´§å¸ä»£ç å¯ä»¥æ ¼å¼åŒ–è´§å¸ï¼Œå¹¶æ ¹æ®ç”¨æˆ·çš„åœ°åŒºåå¥½æ˜¾ç¤ºè´§å¸ã€‚
    
4.  è¯­è¨€å’ŒåŒºåŸŸè®¾ç½®ä¿¡æ¯ï¼šä½¿ç”¨Â `Intl.getCanonicalLocales`Â æ–¹æ³•å¯ä»¥è·å–æ”¯æŒçš„è¯­è¨€å’ŒåŒºåŸŸè®¾ç½®ä¿¡æ¯ã€‚å…³äºæ ‡ç‚¹ç¬¦å·ï¼Œé€šå¸¸åœ¨å›½é™…åŒ–çš„ç¯å¢ƒä¸‹ï¼Œæ ‡ç‚¹ç¬¦å·ä½¿ç”¨è‹±æ–‡æ˜¯æ¯”è¾ƒå¸¸è§çš„åšæ³•ï¼Œå› ä¸ºè‹±æ–‡æ ‡ç‚¹ç¬¦å·åœ¨å…¨çƒèŒƒå›´å†…éƒ½æœ‰é€šç”¨æ€§ï¼Œå¯ä»¥é¿å…å› ä¸ºåœ°åŸŸå·®å¼‚è€Œå¼•èµ·çš„è¯¯è§£ã€‚åœ¨Â `Intl`Â å¯¹è±¡ä¸­ï¼Œä¸€èˆ¬ä¸ä¼šç›´æ¥æ¶‰åŠåˆ°æ ‡ç‚¹ç¬¦å·çš„å¤„ç†ï¼Œè€Œæ˜¯ä¸»è¦ç”¨äºå¤„ç†æ—¥æœŸã€æ—¶é—´ã€æ•°å­—å’Œè´§å¸ç­‰æ ¼å¼åŒ–éœ€æ±‚ã€‚
    

å‰ç½®çŸ¥è¯†
====

è¯­è¨€æ ‡è¯†
----

å…¨åœ°çƒæœ‰ N ä¸ªæ°‘æ—ï¼Œæœ‰çš„æ°‘æ—æœ‰è‡ªå·±çš„è¯­è¨€, æœ‰çš„æ°‘æ—ç”¨å…¶ä»–å›½å®¶æ°‘æ—ä¼ é€’è¿‡æ¥çš„è¯­è¨€, èåŒ–å¸æ”¶ç„¶åå‘å±•è‡ªå·±çš„æ–‡å­—ã€‚

æŒ‰ç…§ ISO æ ‡å‡† (https://zh.m.wikipedia.org/wiki/ISO_639-1)ï¼Œè¯­è¨€å¯ä»¥ç”¨å¤§ç±» + å°ç±»è¡¨ç¤º, æ¯”å¦‚**ã€Œzhã€**å°±æ˜¯æ±‰è¯­ï¼Œæ˜¯ä¸€ä¸ªå¤§ç±»ï¼Œè€Œ**ã€Œzh-CNã€**å°±æ˜¯ç®€ä½“ä¸­æ–‡çš„ç¼©å†™, æ–°åŠ å¡åäººä¼—å¤šä¹…äº†å°±æœ‰**ã€Œzh-SGã€**, è¡¨ç¤ºçš„æ˜¯æ–°åŠ å¡ä½¿ç”¨çš„ä¸­æ–‡ï¼Œå…¶æ¬¡è¿˜æœ‰**ã€Œzh-HK/zh-TW å’Œ zh-Hant/zh-Hansã€**ç­‰ç­‰

è¯­è¨€å£°æ˜æ˜¯ä¸‰æ®µå¼ç»“æ„Â `[language]-[script]-[region]`Â , å¦‚ zh-Hans-CN è¡¨ç¤ºä¸­å›½åœ°åŒºç®€ä½“ä¸­æ–‡, zh-Hant è¡¨ç¤ºæ‰€æœ‰ä¸­æ–‡ç¹ä½“

Language Code Table(http://www.lingoes.net/zh/translator/langcode.htm)

ä¸€èµ·æ¥çœ‹ä¸‹è‹¹æœå®˜ç½‘æ˜¯å¦‚ä½•é€‚é…å¤šå›½è¯­è¨€çš„

*   æ¾³é—¨ apple https://www.apple.com/mo/
    
*   é¦™æ¸¯ apple
    

*   è‹±æ–‡ https://www.apple.com/hk/en/
    
*   ä¸­æ–‡ https://www.apple.com/hk/
    

*   ä¸­å›½å¤§é™†åœ°åŒº apple https://www.apple.com.cn/
    
*   å°æ¹¾ apple https://www.apple.com/tw/
    
*   æ–°åŠ å¡ apple https://www.apple.com/sg/
    
*   æ—¥æœ¬ apple https://www.apple.com/jp/
    

å¯ä»¥çœ‹åˆ°æœ‰çš„æ˜¯æ ¹åŸŸåä¸‹é€šè¿‡ ISO åœ°åŒºçš„ path æ¯”å¦‚ **/hk/** è¿™æ ·æ¥åŒºåˆ†çš„ï¼Œæœ‰çš„æ˜¯ç›´æ¥æ¢åŸŸåï¼Œæ¯”å¦‚ä¸­å›½å¤§é™†åœ°åŒº

æ–‡å­—é˜…è¯»é¡ºåº
------

æŒ‰ç…§æ™®é€šçš„ä¸­æ–‡å’Œè‹±æ–‡é¡ºåºï¼Œéƒ½æ˜¯ LTRï¼Œä¸Šåˆ°ä¸‹ï¼Œéƒ½æ˜¯ä¸–ç•ŒèŒƒå›´é€šç”¨çš„

è€Œ ar é˜¿æ‹‰ä¼¯è¯­, ur ä¹Œéƒ½è¯­, he å¸Œä¼¯æ¥è¯­éƒ½æ˜¯ç‰¹æ®Šçš„ä»å³åˆ°å·¦, å³ RTL çš„ä¸€èˆ¬ä¼šé€šè¿‡æ ‡ç­¾çš„ dir å±æ€§æ ‡è¯†, æ¯”å¦‚ä¸‹é¢çš„è§£é‡Š HTML dir Attribute(https://www.w3schools.com/tags/att_global_dir.asp)

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGSJ7aiahsolKVuiaBOdJElMrIolibQt0Hg8bDvgwIayCJgFibYkVhlHWKkA/640?wx_fmt=png&from=appmsg)HEBREW æ˜¯æŒ‡å¸Œä¼¯æ¥è¯­ï¼Œè¿™æ˜¯ä¸€ç§åœ¨ä»¥è‰²åˆ—å¹¿æ³›ä½¿ç”¨çš„è¯­è¨€ï¼Œä¹Ÿæ˜¯çŠ¹å¤ªæ•™çš„å®—æ•™ç»å…¸æ–‡æœ¬çš„åŸå§‹è¯­è¨€ã€‚å®ƒå±äºé˜¿å¤«ç½—äºšç»†äºšè¯­ç³»ï¼Œæœ‰ç€æ‚ ä¹…çš„å†å²å’Œæ–‡åŒ–ä»·å€¼ã€‚**ã€Œå¸Œä¼¯æ¥è¯­æœ‰å…¶ç‹¬ç‰¹çš„ä¹¦å†™ç³»ç»Ÿï¼Œä»å³å‘å·¦ä¹¦å†™ã€‚ã€**ä¸Šå›¾çš„æ¦‚å¿µå¾ˆå°‘äººæ™®åŠ, å› ä¸ºéå›½é™…åŒ–äº§å“ä¸éœ€è¦å¤šè¯­è¨€, åšéœ€è¦æ”¯æŒæµ·å¤–ä¸šåŠ¡å’Œå…¨çƒåº”ç”¨çš„åŒå­¦å¯ä»¥å¤šäº†è§£ä¸‹. ä¼ ç»Ÿçš„è‹±æ–‡, ä¸­æ–‡ç®€ä½“, æ‹‰ä¸æ–‡ç­‰éƒ½æ˜¯ä¸Šå›¾ LATIN çš„é˜…è¯»é¡ºåº, å¦‚æœç”¨ä¸Š**ã€Œtop, ä¸‹ bottom, å·¦ left, å³ rightã€**ä»£è¡¨æˆ‘ä»¬çš„ä¹ æƒ¯, ä¹Ÿå°±æ˜¯**ã€ŒZã€**è¿™æ ·çš„é¡ºåº. å³è¡Œåˆ°è¡Œæ˜¯ä»ä¸Šåˆ°ä¸‹çš„é¡ºåº, è¡Œå†…é˜…è¯»é¡ºåºæ˜¯ä»å·¦åˆ°å³.

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGwaN7uxTmNE13rBCyCE977EtGZrqVYTckribTGACcPLqxDBj5tjmZ1TQ/640?wx_fmt=png&from=appmsg)æ–‡æ¡£æµå’Œé˜…è¯»é¡ºåº

å³ leftâ†’right, topâ†’bottom çš„é¡ºåºï¼Œæœ‰ä¸»æ¬¡åˆ†åˆ«ï¼Œleftâ†’right çš„ä¼˜å…ˆçº§é«˜äº topâ†’bottom

è€Œ Web æ ‡å‡†å¯¹å…¶å®šä¹‰æ˜¯ä¸‹é¢è¿™æ ·çš„

*   left = inline-start
    
*   right = inline-end
    
*   top = block-start
    
*   bottom = block-end
    

è®²ä¸ªç¬‘è¯, å¤ä»£ä¹¦ç±å°±æ˜¯æŒ‰ç…§Â `writing-mode: vertical-rl`Â æ’ç‰ˆçš„

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGic0qCUKSP3962K0unhxKz55ibl06oxic3ynCB6IOhDiaPzHKicGrju5A2ibQ/640?wx_fmt=png&from=appmsg)joke

å¸ƒå±€
==

content-flows
-------------

æ¯”å¦‚Â `margin: left`Â æˆ–è€…Â `text-align: left`Â åœ¨å¤šè¯­è¨€åœºæ™¯éƒ½æ˜¯ä¸åˆé€‚çš„ï¼Œä½ çš„å·¦å³ä¸æ˜¯å…¶ä»–äººçš„å·¦å³ã€‚

è€Œåº”è¯¥ç”¨Â `margin-inline-start`Â å’ŒÂ `text-align: start`Â æ›¿ä»£ï¼Œå³ inline è½´å’Œ block è½´

```
// ä¸‹é¢ä¸¤ä¸¤ç›¸ç­‰ï¼Œè¯·æŠ›å¼ƒleft/right/top/bottomç­‰å±æ€§// https://web.dev/learn/css/logical-properties/#terminologymargin-left: 1pxmargin-inline-start: 1pxmargin-right: 1pxmargin-inline-end: 1pxmargin-top: 1pxmargin-block-start: 1pxmargin-bottom: 1pxmargin-block-end: 1pxtext-align: lefttext-align: starttext-align: righttext-align: endmax-width: 100pxmax-inline-width: 100pxmax-inline-size: 150pxmax-height: 100pxmax-block-width: 100pxpadding-left: 1pxpadding-inline-start: 1pxpadding-top: 1pxpadding-block-start: 1pxtop: 0.2em;inset-block-start: 0.2em;bottom: 0.2em;inset-block-end: 0.2em;left: 2px;inset-inline-start: 2px;right: 2px;inset-inline-end: 2px;border-bottom: 1px solid red;border-block-end: 1px solid red;border-bottom-right-radius: 1em;border-end-end-radius: 1em;height: 160px;block-size: 160px;width: 160px;inline-size: 160px;
```

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGZEtWdqBNMEAwMnQrpljGl5y2TLPhicqvHSTRZV25UIkMnUtgmZpviaBw/640?wx_fmt=png&from=appmsg)

ä¹Ÿå¯ä»¥çœ‹ä¸‹é¢çš„ä¾‹å­

*   https://codepen.io/web-dot-dev/pen/gOxXOLK
    
*   https://codepen.io/web-dot-dev/pen/mdMqdOx
    

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGveOtlvcDsI8SNQr2oO2WShTuqVDlScZh4PBEfASRDSTXbRbhhubKNA/640?wx_fmt=png&from=appmsg)

å¦‚ä¸Šä¸¤ä¸ªä¾‹å­é€šè¿‡ margin-inline-start ç­‰å±æ€§ï¼Œå†åœ¨ html å…ƒç´ ä¸Šæ·»åŠ Â `dir: rtl`Â å°±å¯ä»¥å®ç°å¤šè¯­è¨€çš„é˜…è¯»é¡ºåºå…¼å®¹

ç”±æ­¤, å¸¸è§çš„å¸ƒå±€ä¹Ÿä¼šæ›´æ–°ä¸ºä»¥ä¸‹å½¢å¼ï¼Œå¸¸è§çš„ç‰©ç†ç›’æ¨¡å‹ç”¨äºå°ºå¯¸è®¡ç®—, é€»è¾‘ç›’æ¨¡å‹ç”¨äºå›½é™…åŒ–å¤„ç†

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGwHbURmOKZkgv2pP02xQibzickUbicYG3UUgqa4QasCwwd5MXGlUBl6S0A/640?wx_fmt=png&from=appmsg)ç›’å­æ¨¡å‹

writing mode å†³å®š content-flows
-----------------------------

ä¸Šé¢å†™äº†æ–‡æ¡£æœ‰ inline and block flowï¼Œå¯¹åº” english çš„ left å’Œ rightï¼Œtop å’Œ bottomã€‚è€ŒÂ `writing-mode`Â å¯ä»¥ä¿®æ”¹ content-flowsï¼Œæ¯”å¦‚ä¸‹é¢çš„å€¼

```
/* å…³é”®å€¼ */writing-mode:Â horizontal-tb;writing-mode:Â vertical-rl;writing-mode:Â vertical-lr;
```

å¯ä»¥è¿™ä¹ˆç†è§£Â `writing-mode: horizontal-tb`Â ï¼Œå‰é¢çš„ horizontal/vertical æ˜¯æŒ‡çš„ inline è½´çš„æ–¹å‘ï¼Œ

https://codepen.io/manfredhu/pen/xxWdpaK

vi å’Œ vb
-------

è§†å£å®½é«˜ viewport åœ¨è¿™é‡Œä¹Ÿæœ‰ç‰¹æ®Šå«ä¹‰. æ¯”å¦‚å®½é«˜ vw å’Œ vh ä¹Ÿè¢«å–ä»£ï¼Œç”¨Â **vi(viewport inline) å’Œ vb(viewport block)** æ›¿ä»£

```
1%å®½åº¦=1vw=1viÂ 1%é«˜åº¦=1vh=1vb
```

JS çš„ scrollLeft
---------------

DOM çš„ API å¯ä»¥é€šè¿‡**ã€ŒElement.scrollLeftã€**è·å–åˆ°å…ƒç´ æ»šåŠ¨çš„è·ç¦»ï¼Œä¸‹å›¾æ˜¯ä¸€ä¸ªå®é™…ä¾‹å­

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGUrTYLfaG3bibZicNKutmmEkrtpQKy7FbN1PaSO5bp6K2OjeaRJn2icjZg/640?wx_fmt=png&from=appmsg)scrollLeft çš„ rtl

è¿™é‡Œåœ¨æœ€ååšäº†ä¸€ä¸ªé®ç½©ï¼ˆç»¿è‰²è¾¹æ¡†åŒºåŸŸï¼‰ï¼Œå†…éƒ¨è“è‰²éƒ¨åˆ†ç±»ä¼¼ä¸€ä¸ªèµ°é©¬ç¯ï¼Œé€šè¿‡ overflow:hidden å°†è“è‰²é«˜äº®éƒ¨åˆ†è¶…å‡ºçš„åŒºåŸŸé®ä½

å½“è“è‰²éƒ¨åˆ†æ»šåŠ¨åˆ°æœ€åï¼Œç»¿è‰²é®ç½©éšè—ï¼Œè¾¾åˆ°ä¸€ä¸ªé®ç›–ï¼Œæ»šåŠ¨åˆ°æœ€åæ¶ˆå¤±çš„æ•ˆæœï¼Œä»£ç å¦‚ä¸‹

```
const ref = document.querySelector('.tiktok-table__container') // çˆ¶èŠ‚ç‚¹ï¼Œè“è‰²åŒºåŸŸconst ref2 = document.querySelector('.tiktok-table__container > table') // å­èŠ‚ç‚¹ï¼Œè¡¨æ ¼åŒºåŸŸconst bufferWidth = 30 // ç•™ä¸€ç‚¹bufferç©ºé—´if (ref && ref2 && ref.clientWidth + ref.scrollLeft >= ref2.clientWidth - bufferWidth) {Â  // æ»šåŠ¨åˆ°æœ€åéšè—ç»¿è‰²é®ç½©Â  setTableRightMask(false)} else {Â  setTableRightMask(true)}
```

ä½†æ˜¯åœ¨ RTL ä¸‹ï¼Œç¥å¥‡çš„äº‹æƒ…å°±å‘ç”Ÿäº†ï¼ŒscrollLeft å±…ç„¶æ˜¯è´Ÿæ•°

è¿™æ˜¯å› ä¸º RTL çš„å®ç°æ˜¯é€šè¿‡ HTML æ ‡ç­¾å¢åŠ å±æ€§Â `dir="rtlâ€`Â å®ç°çš„ï¼Œä¼šå°†æ–‡æ¡£å®Œå…¨ç¿»è½¬è¿‡æ¥ï¼Œæ‰€ä»¥ scrollLeft å°±ä¼šæ˜¯è´Ÿæ•°ã€‚å› ä¸ºæ­¤æ—¶ (0, 0) è¿™ä¸ªåŸç‚¹å·²ç»æ˜¯è¡¨æ ¼å³è¾¹äº†

![](https://mmbiz.qpic.cn/mmbiz_gif/lP9iauFI73ziccTIqicw4bibX7y6Gv8L8ycPCrsCd7b2gdv2icwHg6lTIJGia5FlAh6dKJ9phdZScpPd8P12kKlvbbmA/640?wx_fmt=gif&from=appmsg)

è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå–ç»å¯¹å€¼å‘—ï¼Œè¿™æ ·å°±å¿½ç•¥äº†æ–¹å‘çš„å½±å“

locale
======

æ ¹æ® ISO æ ‡å‡†å¯¹å…¨çƒå›½å®¶åœ°åŒºè¿›è¡Œåˆ’åˆ† https://en.wikipedia.org/wiki/ISO_3166-2. å¦‚ "US" è¡¨ç¤ºç¾å›½ï¼Œ"CN" è¡¨ç¤ºä¸­å›½. è¿˜æœ‰å¸¸è§çš„å¦‚**ã€Œzh-CN, en-US, en-GB ç­‰ã€**

*   CN æ˜¯å›½å®¶åœ°åŒºç , æ ¹æ®å›½é™…æ ‡å‡† ISO 3166-1 è§„å®šçš„å›½å®¶å’Œåœ°åŒºä»£ç ã€‚ISO 3166-1 æ˜¯ç”¨äºæ ‡è¯†å›½å®¶å’Œåœ°åŒºçš„å›½é™…æ ‡å‡†ï¼Œæ¯ä¸ªå›½å®¶æˆ–åœ°åŒºéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ä¸¤å­—æ¯ä»£ç ã€‚"CN" ä»£è¡¨ä¸­åäººæ°‘å…±å’Œå›½ï¼ˆPeople's Republic of Chinaï¼‰ï¼Œå³ä¸­å›½
    
*   zh-CN æ˜¯è¯­è¨€åœ°åŒºç , å®ƒé€šå¸¸ç”¨äºè¡¨ç¤ºä¸­æ–‡ï¼ˆ"zh" ä»£è¡¨ä¸­æ–‡ï¼‰ä»¥åŠç‰¹å®šçš„åœ°åŒºæˆ–å›½å®¶ï¼Œè¿™é‡Œ "CN" ä»£è¡¨ä¸­å›½ã€‚"zh" ä»£è¡¨ä¸­æ–‡ï¼Œè¿™æ˜¯æ ¹æ®å›½é™…æ ‡å‡† ISO 639-1 è§„å®šçš„è¯­è¨€ä»£ç ã€‚ISO 639-1 æ˜¯ç”¨äºæ ‡è¯†è¯­è¨€çš„å›½é™…æ ‡å‡†ï¼Œæ¯ä¸ªè¯­è¨€éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ä¸¤å­—æ¯ä»£ç ã€‚"zh" ä»£è¡¨ä¸­æ–‡ï¼Œä½†ä¸åŒºåˆ†ä¸­æ–‡çš„ä¸åŒæ–¹è¨€ï¼Œå¦‚æ™®é€šè¯å’Œç²¤è¯­ã€‚
    
*   zh-Hans-CN è¡¨ç¤ºä¸­å›½å¤§é™†åœ°åŒºçš„ç®€ä½“ä¸­æ–‡ï¼Œè¿˜æœ‰ "zh-Hans-SG" å¯ç”¨äºè¡¨ç¤ºæ–°åŠ å¡çš„å®˜æ–¹ç®€åŒ–ä¸­æ–‡ï¼Œ"zh-Hans-TW" å¯ç”¨äºè¡¨ç¤ºå°æ¹¾çš„å®˜æ–¹ç®€åŒ–ä¸­æ–‡
    

Intl. Locale
------------

ä¸¾ä¸ªğŸŒ°è¯´ä¸‹ Intl API å¯¹äº locale çš„å®šä¹‰

```
constÂ korean =Â newÂ Intl.Locale('ko', {Â Â script:Â 'Kore',Â Â region:Â 'KR',Â Â hourCycle:Â 'h23',Â Â calendar:Â 'gregory',});constÂ japanese =Â newÂ Intl.Locale('ja-Jpan-JP-u-ca-japanese-hc-h12');console.log(korean.baseName, japanese.baseName);// Expected output: "ko-Kore-KR" "ja-Jpan-JP"
```

å¯ä»¥çœ‹åˆ° Intl. Locale å°±æ˜¯æŠŠä¼ å…¥çš„å­—ç¬¦ä¸²æ‹†è§£ä¸ºÂ `[language]-[script]-[region]`Â çš„ç»„æˆ.

*   jaï¼šä»£è¡¨è¯­è¨€ä»£ç ï¼Œè¡¨ç¤ºæ—¥è¯­ï¼ˆJapaneseï¼‰
    
*   Jpanï¼šä»£è¡¨è„šæœ¬ä»£ç ï¼Œè¡¨ç¤ºä½¿ç”¨æ—¥è¯­æ–‡å­—ï¼ˆJapanese scriptï¼‰
    
*   JPï¼šä»£è¡¨åœ°åŒºä»£ç ï¼Œè¡¨ç¤ºæ—¥æœ¬ï¼ˆJapanï¼‰ è¿™é‡Œçš„Â `u-ca-japanese`Â è¡¨ç¤º unicode calendar ä¹Ÿå°±æ˜¯æ—¥å†æ ¼å¼ (æ—¥æœ¬æ—¥å†ä¸ä¼—ä¸åŒ), hc è¡¨ç¤º hourCycle è¿™é‡Œ hc-h12 è¡¨ç¤º 12 å°æ—¶åˆ¶.Â `u-ca-japanese`Â å’ŒÂ `hc-h12`Â çš„é¡ºåºæ— å…³, ä¹Ÿå°±æ˜¯è¯´å¦‚ä¸‹ä¸¤ç§ç”¨æ³•å®Œå…¨ç­‰ä»·
    

```
constÂ japanese =Â newÂ Intl.Locale('ja-Jpan-JP-u-ca-japanese-hc-h12');constÂ japanese2 =Â newÂ Intl.Locale('ja-Jpan-JP-u-hc-h12-ca-japanese');
```

`-u`Â (unicode) å¯ä»¥ç†è§£ä¸ºé¢å¤–æ‰©å±•æ’ä»¶, æ’ä»¶ç³»ç»Ÿæ”¯æŒä»¥ä¸‹æ‰©å±•. å¦‚ä¸Šä½¿ç”¨ calendar æ‰©å±•å’Œ hourCycle æ‰©å±•

<table><thead><tr><th><section><br></section></th><th><section><br></section></th></tr></thead><tbody><tr><td><section>calendar</section></td><td><section>ca (extension)</section></td></tr><tr><td><section>caseFirst</section></td><td><section>kf (extension)</section></td></tr><tr><td><section>collation</section></td><td><section>co (extension)</section></td></tr><tr><td><section>hourCycle</section></td><td><section>hc (extension)</section></td></tr><tr><td><section>numberingSystem</section></td><td><section>nu (extension)</section></td></tr><tr><td><section>numeric</section></td><td><section>kn (extension)</section></td></tr></tbody></table>

*   calendarï¼šhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/calendar)
    
*   caseFirstï¼šhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/caseFirst)
    
*   collationï¼šhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/collation)
    
*   hourCycleï¼šhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)
    
*   numberingSystemï¼šhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/numberingSystem)
    
*   numericï¼šhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/numeric)
    

è¯­è¨€å£°æ˜
----

```
<htmlÂ lang="en-US"><!-- è¯´æ˜é¡µé¢è¯­è¨€æ˜¯ç¾å¼è‹±æ–‡ --><p>I felt someÂ <spanÂ lang="de">schadenfreude</span>.</p>Â <!-- langä¸æ˜¯åªæœ‰htmlæ ‡ç­¾æ‰æœ‰, å…¶ä»–æ ‡ç­¾ä¹Ÿå¯ä»¥æ·»åŠ  --><aÂ href="/path/to/german/version"Â hreflang="de"Â lang="de">Deutsche Version</a>Â <!-- aæ ‡ç­¾ä¸Šå¯ä»¥ç”¨langè¡¨ç¤ºæ˜¾ç¤ºçš„æ–‡æœ¬çš„è¯­è¨€, ä¹Ÿå¯ä»¥ç”¨hreflangè¡¨ç¤ºè·³è½¬é¡µé¢çš„è¯­è¨€ -->
```

language è®¾ç½®
-----------

è¯­è¨€å±æ€§é€šå¸¸ä»£è¡¨è¯­è¨€æ ‡è¯†ç¬¦çš„ä¸»è¦éƒ¨åˆ†ã€‚å®ƒæ ‡è¯†äº†ç”¨äºè¡¨è¾¾è¯­è¨€çš„åŸºæœ¬ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œåœ¨ BCP 47 æ ‡å‡†ä¸­ï¼Œè¯­è¨€æ ‡è¯†ç¬¦é€šå¸¸åŒ…å«äº†è¯­è¨€çš„ä¸»è¦ä»£ç éƒ¨åˆ†ï¼Œä¾‹å¦‚ "en" ä»£è¡¨è‹±è¯­ï¼Œ"es" ä»£è¡¨è¥¿ç­ç‰™è¯­ã€‚

```
constÂ locales = ['en',Â 'de',Â 'ja'];constÂ displayNames =Â newÂ Intl.DisplayNames('en-US', {Â type:Â 'language'Â });locales.forEach(localeÂ =>Â console.log(displayNames.of(locale)));// English// German// Japanese
```

å¦‚æœå·²ç»æœ‰å¦‚ä¸Šä»£ç , å†è¿›ä¸€æ­¥ç»™è¿™äº›å†…å®¹æ·»åŠ æ ·å¼æ˜¯éå¸¸ç®€å•çš„, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ CSS çš„é€‰æ‹©å™¨. å¦‚Â `[lang|="fr"]`Â æˆ–è€…Â `:lang(fr)`

`[lang|="fr"]`Â é€‰æ‹©å±æ€§Â `lang=fr`Â æˆ–è€… lang å±æ€§ä»¥ fr å¼€å¤´çš„å…ƒç´ , å¦‚Â `lang=fr-CA`

script è®¾ç½®
---------

è„šæœ¬å±æ€§æ˜¯è¯­è¨€æ ‡è¯†ç¬¦çš„å¯é€‰éƒ¨åˆ†ï¼Œè¡¨ç¤ºä½¿ç”¨çš„ä¹¦å†™ç³»ç»Ÿæˆ–æ–‡å­—çš„é£æ ¼ã€‚è¿™æ˜¯ä¸€ä¸ªè¾…åŠ©ä¿¡æ¯ï¼Œç”¨äºæ›´ç²¾ç¡®åœ°è¡¨ç¤ºç‰¹å®šè¯­è¨€çš„ä¹¦å†™ä¹ æƒ¯ã€‚ä¾‹å¦‚ï¼Œ"Hans" ä»£è¡¨ç®€ä½“ä¸­æ–‡ï¼Œ"Latn" ä»£è¡¨æ‹‰ä¸æ–‡ã€‚

script çš„ of æ”¯æŒä¼ å…¥ BCP47 è§„èŒƒçš„äºŒå­—ç  (https://en.wikipedia.org/wiki/IETF_language_tag), å¦‚ zh

```
constÂ scriptNames =Â newÂ Intl.DisplayNames('en-US', {Â type:Â 'script'Â });console.log(scriptNames.of('Hans'));Â // outputï¼šSimplifiedconsole.log(scriptNames.of('Hant'));Â // outputï¼šTraditionalconsole.log(scriptNames.of('Latn'));Â // outputï¼šLatinconstÂ scriptNames =Â newÂ Intl.DisplayNames('zh-CN', {Â type:Â 'script'Â });console.log(scriptNames.of('Hans'));Â // outputï¼šç®€ä½“console.log(scriptNames.of('Hant'));Â // outputï¼šç¹ä½“console.log(scriptNames.of('Latn'));Â // outputï¼šæ‹‰ä¸æ–‡
```

region è®¾ç½®
---------

region Â çš„ of æ”¯æŒä¼ å…¥ https://en.wikipedia.org/wiki/ISO_3166-2 é‡Œçš„å›½å®¶äºŒå­—ç 

```
constÂ regionNamesInEnglish =Â newÂ Intl.DisplayNames(['en'], {Â type:Â 'region'Â });constÂ regionNamesInTraditionalChinese =Â newÂ Intl.DisplayNames(['zh-Hant'], {Â type:Â 'region'Â });console.log(regionNamesInEnglish.of('US'));// Expected output: "United States"console.log(regionNamesInTraditionalChinese.of('US'));// Expected output: "ç¾åœ‹"
```

æ–‡æœ¬
==

é˜…è¯»é¡ºåºå£°æ˜
------

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGiaSibo796IuhbLyYZTcc9btsgnm29lgNPFzEMtFVojlhLYLpyC4r1sMA/640?wx_fmt=png&from=appmsg)æ–‡æœ¬çš„é˜…è¯»é¡ºåºå£°æ˜

### html æ ‡ç­¾ dir å±æ€§

å¯ä»¥é€šè¿‡ html æ ‡ç­¾çš„ dir å±æ€§è®¾ç½®

```
<html dir="ltr"><htmlÂ dir="rtl">
```

### css å±æ€§ writing-mode(https://developer.mozilla.org/en-US/docs/Web/CSS/writing-mode)

```
writing-mode:Â horizontal-tb;writing-mode:Â vertical-lr;writing-mode:Â vertical-rl;
```

æ–‡æœ¬è¡Œçš„å¸ƒå±€æ–¹å‘, ä»¥åŠå—çš„æ’åˆ—æ–¹å‘ã€‚å¦‚æœæƒ³ä½œç”¨åœ¨æ•´ä¸ªæ–‡æ¡£éœ€è¦è®¾ç½® html æ ‡ç­¾, åˆ™å…¨å±€ç”Ÿæ•ˆ

**ã€Œç¬¬ä¸€ä¸ªå±æ€§ horizontal/vertical æŒ‡çš„æ˜¯è¡Œå—çš„æ’åˆ—, ç¬¬äºŒä¸ªå±æ€§åˆ™æ˜¯æŒ‡æ–‡æœ¬å†…å®¹çš„æµå‘ (content flows)ã€**

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGAvYBfOyiaAgGCSQuzmUFgCtPFJ1oPSIuK1Skp3ia3p9UQPfMGSY43NXg/640?wx_fmt=png&from=appmsg)![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibG1eGzTTMde3udpia9lZgIZTlbjibjpzlc2eBV6GlnQvEbhIMlGVTEdMfw/640?wx_fmt=png&from=appmsg)

ç¿»è½¬
--

å½¢å¦‚Â **ã€Œ?ã€**Â è¿™ç§ç¬¦å·ç±»ï¼Œåœ¨å¤šè¯­è¨€ä¸‹æ˜¯ä¸ä¸€æ ·çš„

æ¯”å¦‚ ar é˜¿æ‹‰ä¼¯è¯­å’Œ ur ä¹Œå°”éƒ½æ–¯è¯­é—®å·æ˜¯ RTL çš„ï¼Œå³Â **ã€ŒØŸã€**(https://zh.m.wiktionary.org/wiki/%D8%9F) æ˜¯ OK çš„

è€Œ he å¸Œä¼¯æ¥è¯­æ˜¯ LTR çš„ï¼Œå³Â **ã€Œ?ã€**Â æ˜¯ OK çš„

æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Ÿä¸€ä¸ªé—®å·ä¹Ÿèƒ½ç©å‡ºèŠ±æ¥

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGn4JSndmCZ2qNZYOvhYmyPuic6TcjqBWAb1wEtlNuR8TLUl311xEpvdQ/640?wx_fmt=png&from=appmsg)çº¿ç´¢ç®¡ç†é¡µ - è‹±æ–‡å’Œé˜¿æ‹‰ä¼¯è¯­

å¸¸è§çš„éœ€è¦ RTL çš„è¯­è¨€æœ‰ä¸‹é¢è¿™äº›

1.  **ã€Œé˜¿æ‹‰ä¼¯è¯­ï¼ˆARï¼‰ã€**ï¼šé˜¿æ‹‰ä¼¯è¯­æ˜¯ä½¿ç”¨ RTL æ–¹å‘ä¹¦å†™çš„æœ€è‘—åçš„è¯­è¨€ä¹‹ä¸€ã€‚å®ƒæ˜¯ä¸­ä¸œå’ŒåŒ—éåœ°åŒºçš„ä¸»è¦è¯­è¨€ï¼Œä»¥åŠä¼Šæ–¯å…°æ•™çš„å®˜æ–¹è¯­è¨€ã€‚
    
2.  **ã€Œå¸Œä¼¯æ¥è¯­ï¼ˆHEï¼‰ã€**ï¼šå¸Œä¼¯æ¥è¯­æ˜¯çŠ¹å¤ªäººçš„å®—æ•™å’Œæ–‡åŒ–è¯­è¨€ï¼Œä»¥åŠä»¥è‰²åˆ—çš„å®˜æ–¹è¯­è¨€ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªä½¿ç”¨ RTL æ–¹å‘ä¹¦å†™çš„è¯­è¨€ã€‚
    
3.  **ã€Œæ³¢æ–¯è¯­ï¼ˆFAï¼‰ã€**ï¼šæ³¢æ–¯è¯­ï¼Œä¹Ÿç§°ä¸ºæ³•å°”è¥¿è¯­ï¼Œæ˜¯ä¼Šæœ—çš„å®˜æ–¹è¯­è¨€ï¼Œä»¥åŠä¸€äº›ä¸­ä¸œå›½å®¶çš„å®˜æ–¹æˆ–è¾…åŠ©è¯­è¨€ã€‚å®ƒä½¿ç”¨ RTL æ–¹å‘ä¹¦å†™ã€‚
    
4.  **ã€Œä¹Œå°”éƒ½è¯­ï¼ˆURï¼‰ã€**ï¼šä¹Œå°”éƒ½è¯­æ˜¯å·´åŸºæ–¯å¦å’Œå°åº¦çš„å®˜æ–¹è¯­è¨€ä¹‹ä¸€ï¼Œä»¥åŠä¸€ç§ä½¿ç”¨ RTL æ–¹å‘ä¹¦å†™çš„è¯­è¨€ã€‚
    
5.  **ã€Œå¸•æ–¯å›¾è¯­ï¼ˆPSï¼‰ã€**ï¼šå¸•æ–¯å›¾è¯­æ˜¯é˜¿å¯Œæ±—çš„å®˜æ–¹è¯­è¨€ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯ä½¿ç”¨ RTL æ–¹å‘ä¹¦å†™çš„è¯­è¨€ã€‚
    

```
constÂ rtlLangs = [Â  Â Â 'ar',Â // é˜¿æ‹‰ä¼¯è¯­Â  Â Â 'ur',Â // å·´åŸºæ–¯å¦Â  Â Â 'he',Â // ä»¥è‰²åˆ—Â  Â Â 'he-IL',Â // å¸Œä¼¯æ¥è¯­(ä»¥è‰²åˆ—)Â  Â Â 'fa-IR',Â // æ³¢æ–¯è¯­(ä¼Šæœ—)Â  Â Â 'ps'Â // å¸•æ–¯å›¾è¯­];
```

å¤šè¯­è¨€æ–‡æ¡ˆ
-----

l10n æœ¬åœ°åŒ–çš„ä¸€ä¸ªæ¯”è¾ƒå¤šå·¥ä½œé‡çš„éƒ¨åˆ†æ˜¯æ–‡æœ¬çš„ç¿»è¯‘, ä¸€ç§æ–‡æœ¬åˆ° N ç§æ–‡æœ¬çš„ç¿»è¯‘éœ€è¦å¼•å…¥æœ¬åœ°åŒ–å›¢é˜Ÿ. æŠ€æœ¯å®ç°ä¸Šé€‰æ‹©ä¹Ÿå¾ˆå¤š

### ç¨‹åºæ‰“åŒ…åµŒå…¥æ–‡æ¡ˆ

é€šè¿‡Â `key: text`Â æ˜ å°„, æ¯”å¦‚Â `t('key')`Â æœ€åç¨‹åºè·‘å‡ºæ¥å°±æ˜¯ text æ–‡æ¡ˆ, è¿™ç§æ–¹å¼ä¸ä¼šä¾èµ–å…¶ä»–ä¸œè¥¿, è·Ÿæ™®é€šç½‘é¡µä¸€æ ·å†…å®¹éƒ½æ˜¯ CDN æ–‡ä»¶. ç¼ºç‚¹æ˜¯æ–‡æ¡ˆåšä¸ºé™æ€èµ„æºéœ€è¦ç”¨æˆ·é¢å¤–è·å–, å¦‚æœå¤„ç†ä¸å¥½æ›¿æ¢é”™è¯¯å°±å±•ç¤ºÂ `key`Â å†…å®¹è€Œä¸æ˜¯

*   vue i18nï¼šhttps://kazupon.github.io/vue-i18n/zh/started.html#html
    
*   react i18nï¼šhttps://react.i18next.com
    

ä»¥ä¸‹ä¾‹å­ä»¥ Vue ä¸ºä¾‹, é…ç½®å¦‚**ã€Œen.json, fr.jsonã€**ç­‰ç­‰çš„é™æ€é…ç½®æ–‡æ¡ˆ, æ‰“åŒ…åµŒå…¥ CDN çš„ JS æ–‡ä»¶é‡Œ

Vue i18n exampleï¼šhttps://codesandbox.io/p/sandbox/o7n6pkpwoy?file=%2Fstore.js%3A10%2C14

### æ¥å£è·å–

ç¨‹åºè¿è¡Œæ—¶é€šè¿‡æ¥å£æ‹¿æ–‡æ¡ˆï¼Œå¯ä»¥é€šè¿‡ html æ ‡ç­¾æ·»åŠ  query å‚æ•° lang=xxx æ ‡è®°é¡µé¢è¯­è¨€, æˆ–è€… cookie æ ‡è®°è¯­è¨€é€‰æ‹©

### å®æ—¶ç¿»è¯‘æ›¿æ¢

åŠ è½½ç¿»è¯‘çš„è„šæœ¬, åœ¨åˆ‡æ¢è¯­è¨€çš„æ—¶å€™æ›¿æ¢æ‰åŠ è½½çš„æ–‡æœ¬ã€‚å¥½å¤„æ˜¯åŠ è½½çš„è„šæœ¬æ˜¯å½“å‰è¯­è¨€æ‰€éœ€è¦çš„, ä¸ä¼šæœ‰å…¶ä»–è¯­è¨€çš„å†—ä½™. ç¼ºç‚¹æ˜¯ä¾èµ–ä¸€ä¸ªç¿»è¯‘æœåŠ¡, å¦‚æœç¿»è¯‘æœåŠ¡å®•æœºäº†ç½‘é¡µå°±ä¸èƒ½æ­£å¸¸è®¿é—®äº†

```
User -> gateway -> SSR -> i18n cache -> read-time translation services(å®æ—¶ç¿»è¯‘æœåŠ¡)
```

å ä½ç¬¦ä¸å•å¤æ•°å¤„ç† - ICU è¯­æ³•
------------------

DevPal - ICU message editorï¼šhttps://devpal.co/icu-message-editor/?data=I%20have%20%7Bnum%2C%20plural%2C%20one%7B%7Bnumber%7D%20%23%20apple%7D%20other%7B%23%20apples%7D%7D%2Cbut%20it%27s%20too%20small%0A

ICU è¯­æ³•å³é€šç”¨çš„æœ‰ if-else é€»è¾‘çš„ DSLï¼Œå¦‚ä¸‹ DSL å¯ä»¥æ ¹æ®ä¼ å…¥çš„å€¼æ¢å–ä¸åŒçš„è¡¨ç¤ºï¼Œå¸¸ç”¨äºå›½é™…åŒ–ä¸šåŠ¡

```
I have {num, plural, one{{number} # apple} other{# apples}},but it's too small
```

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGAIP2qCeicJRTd5kXceqRbHXaTfxArUSPdibhcC1o0n1hysJdqHV06xQw/640?wx_fmt=png&from=appmsg)

Intl. Segmenter åˆ†æ®µå™¨
-------------------

å¦‚æœä½ ç”¨è¿‡ vim ä¸€å®šçŸ¥é“ w(word) å¯ä»¥ç§»åŠ¨åˆ°ä¸‹ä¸ªå•è¯, è‹±æ–‡é‡ŒæŠŠæ–‡æœ¬åˆ†ä¸ºå•è¯ã€å¥å­å’Œæ®µè½ï¼ŒåŒç†ä¸­æ–‡ä¹Ÿæ˜¯

*   **ã€Œ`w`ã€**Â word ä¸€ä¸ªå•è¯
    
*   **ã€Œ`s`ã€**Â sentence ä¸€ä¸ªå¥å­
    
*   **ã€Œ`p`ã€**Â paragraph ä¸€ä¸ªæ®µè½
    

```
constÂ segmenter =Â newÂ Intl.Segmenter('en-US', {Â granularity:Â 'word'Â });constÂ text =Â 'This is a sample text for demonstration purposes.';// ä½¿ç”¨ Segmenter å¯¹æ–‡æœ¬è¿›è¡Œåˆ†å‰²constÂ segments = [...segmenter.segment(text)];console.log(segments);// 0: {segment: 'This', index: 0, input: 'This is a sample text for demonstration purposes.', isWordLike: true}// 1: {segment: ' ', index: 4, input: 'This is a sample text for demonstration purposes.', isWordLike: false}// 2: {segment: 'is', index: 5, input: 'This is a sample text for demonstration purposes.', isWordLike: true}// 3: {segment: ' ', index: 7, input: 'This is a sample text for demonstration purposes.', isWordLike: false}// 4: {segment: 'a', index: 8, input: 'This is a sample text for demonstration purposes.', isWordLike: true}// 5: {segment: ' ', index: 9, input: 'This is a sample text for demonstration purposes.', isWordLike: false}// 6: {segment: 'sample', index: 10, input: 'This is a sample text for demonstration purposes.', isWordLike: true}// 7: {segment: ' ', index: 16, input: 'This is a sample text for demonstration purposes.', isWordLike: false}// 8: {segment: 'text', index: 17, input: 'This is a sample text for demonstration purposes.', isWordLike: true}// 9: {segment: ' ', index: 21, input: 'This is a sample text for demonstration purposes.', isWordLike: false}// 10: {segment: 'for', index: 22, input: 'This is a sample text for demonstration purposes.', isWordLike: true}// 11: {segment: ' ', index: 25, input: 'This is a sample text for demonstration purposes.', isWordLike: false}// 12: {segment: 'demonstration', index: 26, input: 'This is a sample text for demonstration purposes.', isWordLike: true}// 13: {segment: ' ', index: 39, input: 'This is a sample text for demonstration purposes.', isWordLike: false}// 14: {segment: 'purposes', index: 40, input: 'This is a sample text for demonstration purposes.', isWordLike: true}// 15: {segment: '.', index: 48, input: 'This is a sample text for demonstration purposes.', isWordLike: false}
```

Intl. Segmenter åˆ†æ®µå™¨å¯ä»¥æŠŠå¥å­, æ®µè½, æ–‡ç« ç­‰æŒ‰ç…§é…ç½®åˆ‡å‰²ä¸ºä¸åŒçš„ segment æ•°ç»„, ç»“æ„ç±»ä¼¼æ­£åˆ™, æœ‰ segment å±æ€§

å†ä¸¾ä¸ªä¾‹å­, ä¸­æ–‡è¯­å¢ƒä¸‹**ã€ŒçœŸçš„ã€**å…¶å®æ˜¯ä¸€ä¸ªè¯

```
// åˆ›å»ºåˆ†æ®µå™¨ï¼ŒæŒ‡å®šè¯­è¨€ç¯å¢ƒå’Œåˆ†æ®µç±»å‹ä¸º'word'constÂ segmenter =Â newÂ Intl.Segmenter(['en',Â 'zh'], {Â granularity:Â 'word'Â });// è¦åˆ†å‰²çš„å­—ç¬¦ä¸²constÂ text =Â 'Helloä¸–ç•ŒHello world';// ä½¿ç”¨åˆ†æ®µå™¨åˆ†å‰²å­—ç¬¦ä¸²constÂ segments = segmenter.segment(text);// éå†å¹¶æ‰“å°æ¯ä¸ªåˆ†æ®µçš„ç»“æœforÂ (constÂ segmentÂ ofÂ segments) {Â  Â Â console.log(`Segment:Â ${segment.segment}, Index:Â ${segment.index}, IsWordLike:Â ${segment.isWordLike}`);}// Segment: Hello, Index: 0, IsWordLike: true// Segment: ä¸–ç•Œ, Index: 5, IsWordLike: true// Segment: Hello, Index: 7, IsWordLike: true// Segment: Â , Index: 12, IsWordLike: false// Segment: world, Index: 13, IsWordLike: true
```

```
constÂ str =Â "æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º";constÂ segmenterJa =Â newÂ Intl.Segmenter("zh-CN", {Â granularity:Â "word"Â });constÂ segments = segmenterJa.segment(str);console.log(Array.from(segments));// 0: {segment: 'æˆ‘', index: 0, input: 'æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º', isWordLike: true}// 1: {segment: 'çœŸçš„', index: 1, input: 'æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º', isWordLike: true}// 2: {segment: 'å¾ˆ', index: 3, input: 'æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º', isWordLike: true}// 3: {segment: 'å¼º', index: 4, input: 'æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º', isWordLike: true}// 4: {segment: ',', index: 5, input: 'æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º', isWordLike: false}// 5: {segment: ' ', index: 6, input: 'æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º', isWordLike: false}// 6: {segment: 'å¼º', index: 7, input: 'æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º', isWordLike: true}// 7: {segment: 'å“¥', index: 8, input: 'æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º', isWordLike: true}// 8: {segment: 'çš„', index: 9, input: 'æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º', isWordLike: true}// 9: {segment: 'å¼º', index: 10, input: 'æˆ‘çœŸçš„å¾ˆå¼º, å¼ºå“¥çš„å¼º', isWordLike: true}
```

æ—¶é—´ & æ—¶åŒº
=======

å›½é™…åŒ–ä¼šæœ‰æ—¶åŒºåˆ’åˆ†é—®é¢˜, æ—¶åŒºäº§ç”Ÿäºå¤ªé˜³ä¸‹åœ°çƒè‡ªè½¬å¯¼è‡´çš„æ˜¼å¤œäº¤æ›¿. è€Œå…¨çƒä¸åŒå›½å®¶åœ°åŒºå½“åœ°æ—¶é—´ä¸ UTC æ—¶é—´æ˜¯ä¸ä¸€è‡´çš„. å…¨çƒå¤§éƒ¨åˆ†äººéƒ½å¯ä»¥è¯´è‡ªå·±æ—©ä¸Šèµ·åºŠ, æ™šä¸Šç¡è§‰. ä¸Šä¸‹æ–‡æ˜¯é€šçš„. ä½†æ˜¯è¿™ä¸ªæ—©ä¸Šçš„æ—¶é—´æ ¹æ® UTC æ¥å®šä¹‰æ˜¯ä¸ä¸€æ ·çš„

GMT å’Œ UTC
---------

*   **GTM = Greenwich Mean Time**ï¼ŒGTM æ˜¯è‹±å›½æ ¼æ—å¨æ²»æ—¶é—´ï¼Œä½†æ˜¯ä¸å¤ªé˜³æ—¶åå·®è¾ƒå¤§ï¼Œå·²æˆä¸ºå†å²ä¸å†ä½œä¸ºæ ‡å‡†
    
*   UTC =Â **ã€Œåè°ƒä¸–ç•Œæ—¶ï¼ˆUTC: Coordinated Universal Timeï¼‰- ç”±åŸå­é’Ÿæä¾›ã€**
    

æ—¶é—´çš„å¾€äº‹ -- è®°ä¸€æ¬¡ä¸å¤ä»¤æ—¶çš„æ–—æ™ºæ–—å‹‡ï¼šhttps://jiangyixiong.top/2021/05/25/%E6%97%B6%E9%97%B4%E7%9A%84%E5%BE%80%E4%BA%8B%E2%80%94%E2%80%94%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%B8%8E%E5%A4%8F%E4%BB%A4%E6%97%B6%E7%9A%84%E6%96%97%E6%99%BA%E6%96%97%E5%8B%87

GMT æ ‡å‡†æ—¶é—´ å…¨çƒæ—¶åŒºæŸ¥è¯¢ï¼šhttps://time.artjoey.com/cn

é€šè¿‡ NTP åè®® (https://zh.wikipedia.org/wiki/%E7%B6%B2%E8%B7%AF%E6%99%82%E9%96%93%E5%8D%94%E5%AE%9A), è®©è®¡ç®—æœºåœ¨å…¨çƒç½‘ç»œé‡Œä¿æŒæ—¶é—´ä¸€è‡´

**ã€ŒOffset ä¸ Timezoneã€**
-----------------------

*   Offset å³åç§»é‡ï¼Œæ¯”å¦‚ä¸­å›½åœ¨ä¸œå…«åŒºï¼ŒOffset æ˜¯`+08:00:00`
    
*   è€Œä¸œå…«åŒºä¸æ­¢åŒ…æ‹¬ä¸­å›½æ—¶é—´ï¼Œè€Œæ˜¯ä¸€ç»„ä¸œè¥¿ç»ç¬¦åˆä¸€ä¸ªåŒºåŸŸçš„é›†åˆï¼Œæ¯”å¦‚
    

```
ä¸œå…«åŒº = {CSTï¼ˆä¸­å›½æ ‡å‡†æ—¶ï¼‰,SGTï¼ˆæ–°åŠ å¡æ—¶é—´ï¼‰,AWSTï¼ˆæ¾³æ´²è¥¿éƒ¨æ ‡å‡†æ—¶ï¼‰... }
```

### å¦‚ä½•è·å–å½“å‰ç”¨æˆ·çš„æ—¶åŒºä¿¡æ¯

```
// æ‰€åœ¨åœ°åŒºçš„æ—¶åŒºæ ‡è¯†ç¬¦, å¦‚ America/New_Yorkconst timeZone = new Intl.DateTimeFormat().resolvedOptions().timeZone;console.log("ç”¨æˆ·æ—¶åŒºåç§»ï¼š"Â + timeZone); // ç”¨æˆ·æ—¶åŒºåç§»ï¼šAsia/Shanghai// è·å–æœ¬åœ°æ—¶é—´ä¸UTCæ—¶é—´åç§»å€¼,æœ€å°å•ä½æ˜¯åˆ†é’Ÿ. å¦‚"-480", è¡¨ç¤º-8å°æ—¶. å…¶ä¸­æ­£è´Ÿè¡¨ç¤ºUTCå‰å, å¦‚ç¾å›½ä¸œéƒ¨æ—¶é—´æ˜¯UTC-5, ä¸­å›½åŒ—äº¬æ—¶é—´æ˜¯UTC+8const date = new Date();const timeZoneOffset = date.getTimezoneOffset();console.log("æ—¶åŒºåç§»ï¼š"Â + timeZoneOffset); // æ—¶åŒºåç§»ï¼š-480
```

Intl æ˜¯æ–°çš„æµè§ˆå™¨ API, ä¸ Math ç±»ä¼¼æ˜¯å…¨å±€é™æ€å¯¹è±¡, ä¸“é—¨ç”¨äºå¤„ç†å›½é™…åŒ–å’Œæœ¬åœ°åŒ–ä¸šåŠ¡. å…¶ä¸‹çš„ DateTimeFormat å¯ä»¥å¤„ç†æ—¶é—´ç›¸å…³å›½é™…åŒ–é—®é¢˜

DST
---

DST (Daylight saving time)ï¼Œæ—¥å…‰èŠ‚çº¦æ—¶ï¼Œå¤ä»¤æ—¶ / å†¬ä»¤æ—¶ç­‰ç­‰åç§°ã€‚**ã€Œå®ƒä¼šåœ¨æ¯å¹´æ˜¥å¤©çš„æŸä¸€å¤©å°†æ—¶é’Ÿå‘åæ‹¨ä¸€å°æ—¶ï¼Œåˆåœ¨ç§‹å¤©çš„æŸä¸€å¤©å°†æ—¶é’Ÿå‘å‰æ‹¨åŠ¨ä¸€ä¸ªå°æ—¶ã€‚ã€**éå›½é™…åŒ–ä¸šåŠ¡å¾ˆå°‘é‡åˆ°è¿™ä¸ªæƒ…å†µï¼Œä¸»è¦å› ä¸º**ã€Œä¸­å›½ä¸å®è¡Œå¤ä»¤æ—¶ / å†¬ä»¤æ—¶ã€‚ã€**

*   ä¸ºä»€ä¹ˆè¦å®è¡Œå¤ä»¤æ—¶ï¼Ÿä¸€æˆ˜æ—¶å¾·å›½ç‡å…ˆå®è¡Œï¼Œå°†æ¯å¹´å¤å¤©å¢åŠ  1hï¼Œå†¬å¤©è¾ƒå°‘ 1h
    
*   ä¼šäº§ç”Ÿä»€ä¹ˆç°è±¡ï¼Ÿå› ä¸ºæ˜¯è¡Œæ”¿çº¦å®šï¼Œæ¯å¹´éƒ½å¯ä»¥è‡ªç”±é€‰æ‹©æŸå¤©æŸæ—¶è¿›å…¥å¤ä»¤æ—¶ï¼Œå„å›½è‡ªç”±å‘å¸ƒã€‚IANA ä¼šå­˜å‚¨ (https://www.iana.org/time-zones) åŒæ­¥å„å›½ DSTï¼Œè®¡ç®—æœºæ¯å°æ—¶åŒæ­¥æ—¶é—´åä¼šåœ¨æŸä¸€ç§’å‘ç”Ÿ**ã€Œçªå˜ã€**ï¼Œæ¯”å¦‚ 1:59 åˆ° 2 ç‚¹çš„æ—¶å€™çªå˜ä¼š 1:00
    
*   è®¡ç®—æœºå¦‚ä½•è¡¨ç¤ºæ—¶é—´ï¼Ÿè®¡ç®—æœºéƒ½æœ‰ä¸€ä¸ª unixTimeï¼Œå®ƒè¡¨ç¤ºå½“å‰æ—¶é—´è·ç¦»ä¸–ç•Œæ ‡å‡†æ—¶çš„ 1970 å¹´ 1 æœˆ 1 æ—¥ 0 ç‚¹ 0 åˆ† 0 ç§’çš„æ¯«ç§’æ•°ï¼Œæ˜¯ä¸€ä¸ªç»å¯¹å€¼ï¼Œä¹Ÿå°±æ˜¯ UTC æ—¶é—´
    
*   ä½†æ˜¯ä¸åŒåœ°åŒºè®¾å¤‡ä¼šæ ¹æ®æœ¬åœ°æœ‰ä¸€ä¸ªæ ¼å¼åŒ–ï¼Œå°† UTC æ—¶é—´è½¬åŒ–ä¸ºæœ¬åœ°æ—¶é—´ï¼Œæ¯”å¦‚ä¸­å›½åœ¨ä¸œå…«åŒº
    

```
2021-03-14 01:59:59 GMT-08:00ï¼ˆå¤ªå¹³æ´‹æ ‡å‡†æ—¶é—´ï¼ŒPSTï¼‰2021-03-14T01:59:59.000-08:00ï¼ˆISOæ ¼å¼è¡¨ç¤ºï¼‰2021-03-14T09:59:59.000Zï¼ˆè½¬æ¢ä¸ºUTCæ—¶é—´å¹¶ä»¥ISOæ ¼å¼è¡¨ç¤ºï¼‰// ä¸‹ä¸€ç§’æ—¶é—´çªå˜2021-03-14 03:00:00 GMT-07:00ï¼ˆå¤ªå¹³æ´‹å¤ä»¤æ—¶é—´ï¼ŒPDTï¼‰2021-03-14T03:00:00.000-07:00ï¼ˆISOæ ¼å¼è¡¨ç¤ºï¼‰2021-03-14T10:00:00.000Zï¼ˆè½¬æ¢ä¸ºUTCæ—¶é—´å¹¶ä»¥ISOæ ¼å¼è¡¨ç¤ºï¼‰
```

```
// åŸå§‹æ—¶é—´å­—ç¬¦ä¸²constÂ timeString =Â "2021-03-14T09:59:59.000Z";// å°†æ—¶é—´å­—ç¬¦ä¸²è½¬æ¢ä¸º Date å¯¹è±¡constÂ date =Â newÂ Date(timeString);constÂ pstOutput = date.toLocaleString("en-US", {Â timeZone:Â "America/Los_Angeles",Â hour12:Â falseÂ });console.log(pstOutput);Â // 3/14/2021, 01:59:59// è·å–æ—¶é—´æˆ³constÂ timestamp = date.getTime();// å¢åŠ 1ç§’constÂ newTimestamp = timestamp +Â 1000;// åˆ›å»ºæ–°çš„ Date å¯¹è±¡å¹¶æ ¼å¼åŒ–ä¸º PDT æ—¶é—´constÂ newDate =Â newÂ Date(newTimestamp);constÂ pdtOutput = newDate.toLocaleString("en-US", {Â timeZone:Â "America/Los_Angeles",Â hour12:Â falseÂ });console.log(pdtOutput);Â // 3/14/2021, 03:00:00
```

æ—¶é—´å¤„ç†
----

### Dayjs æ’ä»¶

dayjs: https://day.js.org/docs/zh-CN/i18n/i18n

å›½é™…åŒ–æ”¯æŒ https://github.com/iamkun/dayjs/tree/dev/src/locale

åŸç†ï¼šé€šè¿‡æ‹‰å–å¤šè¯­è¨€æ–‡æ¡ˆè¾“å‡ºä¸åŒçš„ formated æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²

å¯ä»¥çœ‹è¿™ä¸ª demo

Days of the weekï¼šhttps://codesandbox.io/s/dayjs-dynamic-locale0import-forked-wnk2zq?file=/src/index.js

å› æˆ‘æœ¬åœ°ç³»ç»Ÿè®¾ç½®äº†æ¯å‘¨ç¬¬ä¸€å¤©ä¸ºæ˜ŸæœŸæ—¥

### Intl API

```
constÂ date =Â newÂ Date();constÂ formattedDate =Â newÂ Intl.DateTimeFormat('en-US').format(date);console.log(formattedDate);Â // 10/29/2023constÂ formattedDate =Â newÂ Intl.DateTimeFormat('zh-CN').format(date);console.log(formattedDate);Â // 2023/10/29
```

### æœ¬åœ°æ—¶é—´è¾“å‡º

```
// åˆ›å»º DateTimeFormat å¯¹è±¡ï¼Œå¹¶æŒ‡å®šè¯­è¨€å’Œåœ°åŒºconstÂ dateFormatterCN =Â newÂ Intl.DateTimeFormat('zh-CN', {Â Â year:Â 'numeric',Â Â month:Â 'long',Â // ä½¿ç”¨å®Œæ•´çš„æœˆä»½åç§°Â Â day:Â 'numeric',});console.log(dateFormatterCN.format(newÂ Date('2024-04-28')));Â // 2024å¹´4æœˆ28æ—¥constÂ dateFormatterUS =Â newÂ Intl.DateTimeFormat('en-US', {Â Â year:Â 'numeric',Â Â month:Â 'long',Â // ä½¿ç”¨å®Œæ•´çš„æœˆä»½åç§°Â Â day:Â 'numeric',});console.log(dateFormatterUS.format(newÂ Date('2024-04-28')));Â // April 28, 2024
```

**ã€ŒIntl. RelativeTimeFormatã€**Â ç›¸å¯¹æ—¶é—´
-----------------------------------

**ã€Œ`Intl.RelativeTimeFormat`ã€**Â æ˜¯ JavaScript ä¸­çš„å›½é™…åŒ– APIï¼Œç”¨äºæ ¼å¼åŒ–ç›¸å¯¹æ—¶é—´ï¼Œä¾‹å¦‚ â€œ1 å°æ—¶å‰â€ æˆ–â€œ2 å¤©åâ€ã€‚è¿™ä¸ª API å¯ä»¥æ ¹æ®ä¸åŒçš„è¯­è¨€å’Œåœ°åŒºè®¾ç½®ï¼Œä»¥è‡ªç„¶è¯­è¨€çš„æ–¹å¼å‘ˆç°ç›¸å¯¹æ—¶é—´ï¼Œä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”å¤šè¯­è¨€ç¯å¢ƒã€‚

```
constÂ rtf1 =Â newÂ Intl.RelativeTimeFormat('zh', {Â style:Â 'short'Â });console.log(rtf1.format(3,Â 'quarter'));// Expected output: "3ä¸ªå­£åº¦å"console.log(rtf1.format(-1,Â 'day'));// Expected output: "1å¤©å‰"constÂ rtf2 =Â newÂ Intl.RelativeTimeFormat('jp', {Â numeric:Â 'auto'Â });console.log(rtf2.format(2,Â 'day'));// Expected output: "åå¤©"
```

æˆ‘ä»¬çŸ¥é“ä¸­æ–‡è¯­å¢ƒæ˜¯ä¸€ä¸‡ä»¥ä¸Šå¯ä»¥ç¼©å†™ä¸º 1 ä¸‡, æˆ–è€…æ˜¯ 1 0000. ä¹Ÿå°±æ˜¯ 4 ä½æ•°å­—. æ¯”å¦‚ 1 2345 6789 æˆ–è€… 1â€™2345â€™6789(â€™æ˜¯ä¸‡ä½åˆ†éš”ç¬¦) å¯ä»¥ä¸€çœ¼çœ‹å‡ºæ¥æ˜¯ä¸€äº¿ä¸¤åƒä¸‰ç™¾å››åäº”ä¸‡å…­åƒä¸ƒç™¾å…«åä¹. è€Œå¦‚æœæ˜¯ 123, 456, 789 å¯èƒ½å¾ˆå¤šäººä¼šæ„£å¾ˆä¹…é‡æ–°æ•°æ‰çŸ¥é“æ˜¯å¤šå°‘. ä½†æ˜¯ç°åœ¨å¾ˆå¤šé“¶è¡Œ APP éƒ½åœ¨æ¨è·Ÿæ¬§ç¾ä¸€æ ·çš„å±äºåè€…çš„åƒä½åˆ†éš”ç¬¦. å¯ä»¥çœ‹è¿™ç¯‡è®¨è®ºè§‰å¾—å†™çš„åœ¨ç†

è®¾è®¡äº§å“æ—¶ï¼Œä½ æ˜¯å¦‚ä½•æ‰å…¥ä»ä¼—çš„é™·é˜±ä¸­çš„ï¼Ÿâ€“ äººäººéƒ½æ˜¯äº§å“ç»ç†ï¼šhttps://www.woshipm.com/pd/1500589.html)

ç±»ä¼¼ä»¥ä¸Šä¾‹å­å¯ä»¥å†çœ‹ä¸‹é¢çš„ä¸¾ä¾‹, å¯ä»¥å‘ç°åœ¨å¾·è¯­å’Œæ³•è¯­ä¸‹, åƒåˆ†ä½åˆ†éš”ç¬¦åˆ†åˆ«æ˜¯`.`å’Œ ï¼ˆç©ºæ ¼ï¼‰

```
constÂ number =Â 1234567.89;constÂ formattedNumber =Â newÂ Intl.NumberFormat('zh-CN').format(number);console.log(formattedNumber);Â // 1,234,567.89constÂ number =Â 1234567.89;constÂ formattedNumber =Â newÂ Intl.NumberFormat('en-US').format(number);console.log(formattedNumber);Â // 1,234,567.89constÂ number =Â 1234567.89;constÂ formattedNumber =Â newÂ Intl.NumberFormat('de-DE').format(number);console.log(formattedNumber);Â // 1.234.567,89constÂ number =Â 1234567.89;constÂ formattedNumber =Â newÂ Intl.NumberFormat('fr-FR').format(number);console.log(formattedNumber);Â // 1 234 567,89
```

å•å¤æ•°
---

è‹±æ–‡å¤æ•°æ˜¯è¦åŠ  s çš„, æ¯”å¦‚ apples

```
constÂ numbers = [1,Â 2,Â 5,Â 10,Â 100];forÂ (constÂ numberÂ ofÂ numbers) {Â Â constÂ pluralRules =Â newÂ Intl.PluralRules('en-US');Â // ä½¿ç”¨è‹±è¯­ç¯å¢ƒÂ Â constÂ pluralForm = pluralRules.select(number);Â Â console.log(`In English,Â ${number}Â item${pluralForm !==Â 'one'Â ?Â 's'Â :Â ''}.`);}// In English, 1 item.// In English, 2 items.// In English, 5 items.// In English, 10 items.// In English, 100 items.
```

å†æ¯”å¦‚é¡ºåº, ç¬¬ä¸€ç¬¬äºŒç¬¬ä¸‰, è‹±æ–‡åˆ†åˆ«ä¸º first, second, third, fourth, fifth. èªæ˜çš„ä½ ä¸€å®šå‘ç°è§„å¾‹äº†. é™¤äº† 123 åé¢å°±æ˜¯æ•°å­— + th. ç®€å†™æ˜¯ 1st 2nd. æ ¹æ®ä¸‹è¡¨å¯ä»¥å‘ç°è§„å¾‹

1.  1 â†’ st, åé¢é™¤äº† 11 å¤–. 21-91 éƒ½æ˜¯ 21st, 91st è¿™ç§
    
2.  2â†’ nd, åé¢é™¤äº† 12 å¤–. 22-92 éƒ½æ˜¯ 22nd, 92nd è¿™ç§
    
3.  3 â†’ rd, åé¢é™¤äº† 13 å¤–. 23-93 éƒ½æ˜¯ 23rd, 93rd è¿™ç§
    
4.  å…¶ä»–éƒ½æ˜¯è¡¥ th
    

<table><thead><tr><th><section>æ•°å­—</section></th><th><section>è‹±æ–‡</section></th><th><section>ç¬¬ N</section></th></tr></thead><tbody><tr><td><section>1</section></td><td><section>One</section></td><td><section>1st</section></td></tr><tr><td><section>2</section></td><td><section>Two</section></td><td><section>2nd</section></td></tr><tr><td><section>3</section></td><td><section>Three</section></td><td><section>3rd</section></td></tr><tr><td><section>4</section></td><td><section>Four</section></td><td><section>4th</section></td></tr><tr><td><section>10</section></td><td><section>Ten</section></td><td><section>10th</section></td></tr><tr><td><section>11</section></td><td><section>Eleven</section></td><td><section>11th</section></td></tr><tr><td><section>12</section></td><td><section>Twelve</section></td><td><section>12th</section></td></tr><tr><td><section>13</section></td><td><section>Thirteen</section></td><td><section>13th</section></td></tr><tr><td><section>20</section></td><td><section>Twenty</section></td><td><section>20th</section></td></tr><tr><td><section>21</section></td><td><section>Twenty-one</section></td><td><section>21st</section></td></tr><tr><td><section>30</section></td><td><section>Thirty</section></td><td><section>22nd</section></td></tr><tr><td><section>31</section></td><td><section>Thirty-one</section></td><td><section>21st</section></td></tr><tr><td><section>100</section></td><td><section>One hundred</section></td><td><section>100th</section></td></tr></tbody></table>

```
constÂ enOrdinalRules =Â newÂ Intl.PluralRules("en-US", {Â type:Â "ordinal"Â });constÂ suffixes =Â newÂ Map([Â  ["one",Â "st"],Â  ["two",Â "nd"],Â  ["few",Â "rd"],Â  ["other",Â "th"],]);constÂ formatOrdinals =Â (n) =>Â {Â Â constÂ rule = enOrdinalRules.select(n);Â Â constÂ suffix = suffixes.get(rule);Â Â returnÂ `${n}${suffix}`;};formatOrdinals(0);Â // '0th'formatOrdinals(1);Â // '1st'formatOrdinals(2);Â // '2nd'formatOrdinals(3);Â // '3rd'formatOrdinals(4);Â // '4th'formatOrdinals(11);Â // '11th'formatOrdinals(21);Â // '21st'formatOrdinals(42);Â // '42nd'formatOrdinals(103);Â // '103rd'
```

æ•°å­—æ ¼å¼åŒ–
=====

æ•´æ•°åˆ†éš”å’Œå°æ•°åˆ†éš”
---------

å¸¸è§çš„æ•´æ•°åˆ†éš”ç¬¦å·æœ‰åƒåˆ†ä½åˆ†éš”, æ¯”å¦‚Â `1000,000`Â ä¹Ÿæœ‰ä¸‡ä½åˆ†éš”æ¯”å¦‚Â `1000 0000`Â . ä¸åŒè¯­è¨€ä¸ä¸€æ ·

å¸¸è§çš„å°æ•°åˆ†éš”ç¬¦å·Â `.`Â , æ¯”å¦‚Â `1000.00`Â . ä¸åŒè¯­è¨€ä¸ä¸€æ ·

```
constÂ number =Â 1234567.89;// æ ¼å¼åŒ–ä¸ºé»˜è®¤æ•°å­—æ ¼å¼constÂ formattedNumber =Â newÂ Intl.NumberFormat().format(number);console.log(formattedNumber);Â // è¾“å‡º: 1,234,567.89// æ ¼å¼åŒ–ä¸ºæŒ‡å®šè¯­è¨€ç¯å¢ƒçš„æ•°å­—æ ¼å¼constÂ formattedNumberDE =Â newÂ Intl.NumberFormat('de-DE').format(number);console.log(formattedNumberDE);Â // è¾“å‡º: 1.234.567,89// æ ¼å¼åŒ–ä¸ºæŒ‡å®šè¯­è¨€ç¯å¢ƒçš„æ•°å­—æ ¼å¼constÂ formattedNumberFR =Â newÂ Intl.NumberFormat('fr-FR').format(number);console.log(formattedNumberFR);Â // è¾“å‡º: 1 234 567,89constÂ formattedNumberCN =Â newÂ Intl.NumberFormat('zh-CN').format(number);console.log(formattedNumberCN) Â // è¾“å‡º: 1,234,567.89
```

ä¹Ÿå¯ä»¥é€šè¿‡å‚æ•°é…ç½®æ§åˆ¶å°æ•°éƒ¨åˆ†æœ€å¤š / æœ€å°‘æœ‰å¤šå°‘ä½

```
constÂ number =Â 1234567.89123;constÂ formattedNumber =Â newÂ Intl.NumberFormat('en-US', {Â Â style:Â 'decimal',Â // å¯é€‰ 'decimal' è¡¨ç¤ºå¸¸è§„æ•°å­—æ ¼å¼Â Â maximumFractionDigits:Â 3,Â // å°æ•°éƒ¨åˆ†æœ€å¤šæ˜¾ç¤ºä¸‰ä½}).format(number);console.log(formattedNumber);Â // è¾“å‡º: 1,234,567.891
```

ç™¾åˆ†æ¯”
---

æ­£å¸¸ç™¾åˆ†æ¯”æ˜¯ 0-100 æ•°å­— +%, ä½†æ˜¯æ³•è¯­ç¯å¢ƒç™¾åˆ†æ¯”ç¬¦å·ä¹ æƒ¯æ˜¯ '%'è€Œä¸æ˜¯'%', å¤šäº†ä¸€ä¸ªç©ºæ ¼

```
constÂ percentage =Â 0.75;// ä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒconstÂ formattedPercentageDefault =Â newÂ Intl.NumberFormat('fr-FR', {Â Â style:Â 'percent'}).format(percentage);console.log(formattedPercentageDefault);Â // è¾“å‡º: '75 %'// ä½¿ç”¨æŒ‡å®šè¯­è¨€ç¯å¢ƒconstÂ formattedPercentageFR =Â newÂ Intl.NumberFormat('fr-FR', {Â Â style:Â 'percent',Â Â minimumFractionDigits:Â 2,Â Â maximumFractionDigits:Â 2,}).format(percentage);console.log(formattedPercentageFR);Â // è¾“å‡º: '75,00 %'// ä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒconstÂ formattedPercentageUS =Â newÂ Intl.NumberFormat('en-US', {Â Â style:Â 'percent'}).format(percentage);console.log(formattedPercentageUS);Â // è¾“å‡º: '75%'// ä½¿ç”¨æŒ‡å®šè¯­è¨€ç¯å¢ƒconstÂ formattedPercentageCN =Â newÂ Intl.NumberFormat('zh-CN', {Â Â style:Â 'percent',Â Â minimumFractionDigits:Â 2,Â Â maximumFractionDigits:Â 2,}).format(percentage);console.log(formattedPercentageCN);Â // è¾“å‡º: '75.00%'
```

### ç¼©å†™

```
console.log(newÂ Intl.NumberFormat('en-US', {Â notation:Â "compact"Â ,Â compactDisplay:Â "short",Â maximumFractionDigits:Â 2Â }).format(987654321))Â // 987.65Mconsole.log(newÂ Intl.NumberFormat('zh-CN', {Â notation:Â "compact"Â ,Â compactDisplay:Â "short",Â maximumFractionDigits:Â 2Â }).format(987654321))Â // 9.88äº¿
```

è´§å¸
==

è´§å¸ç¬¦å·
----

æ¯”å¦‚äººæ°‘å¸æ˜¯Â `Â¥`Â , ç¾å…ƒæ˜¯Â `$`Â , æ¬§å…ƒÂ `â‚¬`Â , è‹±é•‘Â `Â£`

```
newÂ Intl.NumberFormat('en-US', {Â style:Â 'currency',Â currency:Â 'USD'Â }).formatToParts().filter(iÂ =>Â i.type ===Â 'currency')[0].valueÂ // '$'newÂ Intl.NumberFormat('zh-CN', {Â style:Â 'currency',Â currency:Â 'CNY'Â }).formatToParts().filter(iÂ =>Â i.type ===Â 'currency')[0].valueÂ // 'Â¥'newÂ Intl.NumberFormat('de-DE', {Â style:Â 'currency',Â currency:Â 'EUR'Â }).formatToParts().filter(iÂ =>Â i.type ===Â 'currency')[0].valueÂ // 'â‚¬'
```

è´§å¸æ ¼å¼åŒ–
-----

ç”¨å¸¸è§çš„å‡ ä¸ªç»æµä½“å’Œèº«è¾¹ç”¨çš„å¤šçš„ case ä¸¾ä¾‹è¯´æ˜, æ³¨æ„çœ‹è¾“å‡º

```
// ç¾å…ƒ $æ˜¯ç¾å…ƒç¬¦å·constÂ numberUSD =Â 123456789.12;constÂ formattedNumberUSD =Â newÂ Intl.NumberFormat('en-US', {Â style:Â 'currency',Â currency:Â 'USD'Â }).format(numberUSD);console.log(formattedNumberUSD);Â // $123,456,789.12// äººæ°‘å¸ Â¥æ˜¯äººæ°‘å¸ç¬¦å·constÂ numberCNY =Â 123456789.12;constÂ formattedNumberCNY =Â newÂ Intl.NumberFormat('zh-CN', {Â style:Â 'currency',Â currency:Â 'CNY'Â }).format(numberCNY);console.log(formattedNumberCNY);Â // Â¥123,456,789.12// æ¬§å…ƒ â‚¬æ˜¯æ¬§å…ƒç¬¦å·constÂ numberEUR =Â 123456789.12;constÂ formattedNumberEUR =Â newÂ Intl.NumberFormat('de-DE', {Â style:Â 'currency',Â currency:Â 'EUR'Â }).format(numberEUR);console.log(formattedNumberEUR);Â // 123.456.789,12 â‚¬// æ—¥å…ƒconstÂ numberJPY =Â 123456789.12;constÂ formattedNumberJPY =Â newÂ Intl.NumberFormat('ja-JP', {Â style:Â 'currency',Â currency:Â 'JPY'Â }).format(numberJPY);console.log(formattedNumberJPY);Â // Â¥123,456,789// è‹±é•‘ Â£æ˜¯è‹±é•‘ç¬¦å·constÂ numberGBP =Â 123456789.12;constÂ formattedNumberGBP =Â newÂ Intl.NumberFormat('en-GB', {Â style:Â 'currency',Â currency:Â 'GBP'Â }).format(numberGBP);console.log(formattedNumberGBP);Â // Â£123,456,789.12// æ¸¯å¸constÂ numberHKD =Â 123456789.12;constÂ formattedNumberHKD =Â newÂ Intl.NumberFormat('zh-HK', {Â style:Â 'currency',Â currency:Â 'HKD'Â }).format(numberHKD);console.log(formattedNumberHKD);Â // HK$123,456,789.12// éŸ©å…ƒconstÂ numberKRW =Â 123456789.12;constÂ formattedNumberKRW =Â newÂ Intl.NumberFormat('ko-KR', {Â style:Â 'currency',Â currency:Â 'KRW'Â }).format(numberKRW);console.log(formattedNumberKRW);Â // â‚©123,456,789.12
```

è´§å¸çš„å…¼å®¹æ€§å…œåº•å¯ä»¥ç”¨Â `Number.prototype.toLocaleString`Â å®ç°, ä¹Ÿå¯ä»¥ç”¨ formatjs æä¾›çš„ polyfill

```
// ç¾å…ƒ $æ˜¯ç¾å…ƒç¬¦å·constÂ numberUSD =Â 123456789.12;constÂ formattedNumberUSD =Â newÂ Intl.NumberFormat('en-US', {Â style:Â 'currency',Â currency:Â 'USD'Â }).format(numberUSD);constÂ formatttdNumberUSDByLocaleString =Â Number(numberUSD).toLocaleString('en-US', {Â style:Â 'currency',Â currency:Â 'USD'Â });console.log(formattedNumberUSD);Â // $123,456,789.12console.log(numberUSD.toLocaleString())Â // 123,456,789.12console.log(formatttdNumberUSDByLocaleString)Â // $123,456,789.12
```

è´§å¸å•ä½æ˜¾ç¤º
------

æ¯”å¦‚ç¾å›½æ˜¯ç¾å…ƒ, ä¸­å›½æœ‰äººæ°‘å¸. å¯ä»¥ç›´æ¥æ ¼å¼åŒ–å‡ºæ¥

```
currencyNames =Â newÂ Intl.DisplayNames(["zh-Hans"], {Â type:Â "currency"Â });console.log(currencyNames.of("USD"));Â // "ç¾å…ƒ"console.log(currencyNames.of("EUR"));Â // "æ¬§å…ƒ"console.log(currencyNames.of("TWD"));Â // "æ–°å°å¸"console.log(currencyNames.of("CNY"));Â // "äººæ°‘å¸"currencyNames =Â newÂ Intl.DisplayNames(["zh-Hant"], {Â type:Â "currency"Â });console.log(currencyNames.of("USD"));Â // "ç¾å…ƒ"console.log(currencyNames.of("EUR"));Â // "æ­å…ƒ"console.log(currencyNames.of("TWD"));Â // "æ–°å°å¹£"console.log(currencyNames.of("CNY"));Â // "äººæ°‘å¹£"
```

æ’åº & åˆ—è¡¨
=======

Intl. Collator
--------------

å¸¸è§çš„ç”µè¯æœ¬, åœ°å€ç°¿æ’åº. ä¸åŒè¯­è¨€å› ä¸ºå­—æ¯è½¬æ¢åæ’åºä¸ä¸€è‡´.Â **ã€Œ`Intl.Collator`ã€**Â æ˜¯ JavaScript çš„å›½é™…åŒ– API ä¹‹ä¸€ï¼Œç”¨äºå­—ç¬¦ä¸²æ¯”è¾ƒå’Œæ’åºï¼Œä»¥ä¾¿åœ¨å¤šè¯­è¨€ç¯å¢ƒä¸­æ‰§è¡Œæ­£ç¡®çš„æ’åºæ“ä½œã€‚å®ƒå…è®¸ä½ åˆ›å»ºä¸€ä¸ªÂ **ã€Œ`Collator`ã€**Â å¯¹è±¡ï¼Œç”¨äºæ ¹æ®ç‰¹å®šè¯­è¨€å’ŒåŒºåŸŸè®¾ç½®æ‰§è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒå’Œæ’åºï¼Œè€ƒè™‘åˆ°ä¸åŒè¯­è¨€çš„å·®å¼‚ã€‚

```
console.log(['Z',Â 'a',Â 'z',Â 'Ã¤'].sort(newÂ Intl.Collator('de').compare));// Expected output: Array ["a", "Ã¤", "z", "Z"]console.log(['Z',Â 'a',Â 'z',Â 'Ã¤'].sort(newÂ Intl.Collator('sv').compare));// Expected output: Array ["a", "z", "Z", "Ã¤"]console.log(['Z',Â 'a',Â 'z',Â 'Ã¤'].sort(newÂ Intl.Collator('de', {Â caseFirst:Â 'upper'Â }).compare));// Expected output: Array ["a", "Ã¤", "Z", "z"]//åˆ›å»ºä¸€ä¸ªIntl.Collatorå¯¹è±¡constÂ collator =Â newÂ Intl.Collator('en-US', {Â sensitivity:Â 'base',Â usage:Â 'sort'Â });// å¯ä»¥çœ‹å‡ºä»¥ä¸‹è¾“å‡ºæ˜¯æŒ‰ç…§æ‹¼éŸ³æ’åº, guang jin mei ming tian yangconsole.log(['ä»Š','å¤©','é˜³','å…‰',Â 'æ˜',Â 'åªš'].sort(newÂ Intl.Collator('zh').compare));Â // ['å…‰', 'ä»Š', 'åªš', 'æ˜', 'å¤©', 'é˜³']
```

å¯ä»¥å‘ç° options å¯ä»¥ä¼ é€’å‚æ•° usage å’Œ sensitivity, æœ‰å¦‚ä¸‹å–å€¼

1.  **ã€Œæ’åºæ–¹å¼ (usage)ã€**:Â **ã€Œ`usage`ã€**Â é€‰é¡¹æŒ‡å®šæ’åºçš„ç›®çš„
    

*   `'sort'`ï¼šç”¨äºæ’åºã€‚
    
*   `'search'`ï¼šç”¨äºæœç´¢æ“ä½œï¼Œé€šå¸¸ä¸åŒºåˆ†å¤§å°å†™ã€‚
    

3.  **ã€Œæ•æ„Ÿæ€§ (sensitivity)ã€**:Â **ã€Œ`sensitivity`ã€**Â é€‰é¡¹æŒ‡å®šå­—ç¬¦ä¸²æ¯”è¾ƒçš„æ•æ„Ÿæ€§çº§åˆ«
    

*   `'base'`ï¼šåŸºæœ¬æ•æ„Ÿæ€§ï¼Œä¸åŒºåˆ†é‡éŸ³ç¬¦å·ã€‚
    
*   `'accent'`ï¼šè€ƒè™‘é‡éŸ³ç¬¦å·ï¼Œä½†ä¸åŒºåˆ†å¤§å°å†™ã€‚
    
*   `'case'`ï¼šåŒºåˆ†å¤§å°å†™ï¼ŒåŒæ—¶è€ƒè™‘é‡éŸ³ç¬¦å·ã€‚
    
*   `'case'`ï¼šåŒºåˆ†å¤§å°å†™ï¼Œä½†ä¸è€ƒè™‘é‡éŸ³ç¬¦å·ã€‚
    

5.  å¤§å°å†™ (caseFirst)
    

*   `"upper"`ï¼šè¡¨ç¤ºå¤§å†™å­—æ¯ï¼ˆuppercaseï¼‰åœ¨æ’åºä¸­ä¼˜å…ˆè€ƒè™‘ã€‚è¿™æ„å‘³ç€æ’åºä¼šå…ˆè€ƒè™‘æ‰€æœ‰å¤§å†™å­—æ¯ï¼Œç„¶åå†è€ƒè™‘å°å†™å­—æ¯ã€‚åœ¨Â **ã€Œ`caseFirst: "upper"`ã€**Â æƒ…å†µä¸‹ï¼Œå¤§å†™å­—æ¯ä¼šæ’åœ¨å°å†™å­—æ¯ä¹‹å‰ã€‚
    
*   `"lower"`ï¼šè¡¨ç¤ºå°å†™å­—æ¯ï¼ˆlowercaseï¼‰åœ¨æ’åºä¸­ä¼˜å…ˆè€ƒè™‘ã€‚è¿™æ„å‘³ç€æ’åºä¼šå…ˆè€ƒè™‘æ‰€æœ‰å°å†™å­—æ¯ï¼Œç„¶åå†è€ƒè™‘å¤§å†™å­—æ¯ã€‚åœ¨Â **ã€Œ`caseFirst: "lower"`ã€**Â æƒ…å†µä¸‹ï¼Œå°å†™å­—æ¯ä¼šæ’åœ¨å¤§å†™å­—æ¯ä¹‹å‰ã€‚
    
*   `"false"`ï¼šè¡¨ç¤ºä¸æŒ‡å®šå¤§å†™å­—æ¯å’Œå°å†™å­—æ¯çš„æ’åºé¡ºåºï¼Œå®ƒä»¬ä¼šä¸€èµ·æ’åºï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚
    

7.  ignorePunctuation: boolean, è¡¨ç¤ºæ˜¯å¦å¿½ç•¥æ ‡ç‚¹ç¬¦å·
    

æœ‰å¦‚ä¸‹çš„åº”ç”¨æ–¹å¼

### å­—ç¬¦ä¸²æ¯”è¾ƒ

```
constÂ collator =Â newÂ Intl.Collator('en-US', {Â sensitivity:Â 'base',Â usage:Â 'sort'Â });Â //åˆ›å»ºä¸€ä¸ªIntl.Collatorå¯¹è±¡constÂ result = collator.compare('apple',Â 'Banana');console.log(result);Â // æ ¹æ®é…ç½®è¾“å‡º -1ï¼ˆapple åœ¨ Banana å‰é¢ï¼‰
```

### æ•°ç»„æ’åº

æˆ‘ä»¬çŸ¥é“è‹±æ–‡å­—æ¯é»˜è®¤æŒ‰ç…§ ASCII æ’åº, è€Œå¦‚æœéœ€è¦ AaBb è¿™æ ·æ’åºåªèƒ½è‡ªå·±å†™æ’åºå›è°ƒ

```
// åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰Collatorå¯¹è±¡constÂ customCollator =Â newÂ Intl.Collator('en-US', {Â Â sensitivity:Â 'base',Â Â usage:Â 'sort',Â Â ignorePunctuation:Â true,Â Â caseFirst:Â 'false',});// è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°, å¿½ç•¥ç©ºæ ¼å¹¶ä¸åŒºåˆ†å¤§å°å†™functionÂ customCompare(a, b)Â {Â Â // ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼å¹¶è½¬ä¸ºå°å†™åå†æ¯”è¾ƒÂ Â constÂ stringA = a.replace(/\\s/g,Â '').toLowerCase();Â Â constÂ stringB = b.replace(/\\s/g,Â '').toLowerCase();Â Â ifÂ (stringA < stringB) {Â  Â Â returnÂ -1;Â  }Â Â ifÂ (stringA > stringB) {Â  Â Â returnÂ 1;Â  }Â Â returnÂ 0;}constÂ data = ['Apple',Â 'banana',Â 'cherry',Â 'apple pie',Â 'Banana Split',Â 'cherry tart'];constÂ data2 = data.slice()// è€æ–¹å¼: ä½¿ç”¨sortå›è°ƒæ’åºconsole.log(data.sort(customCompare));Â // è¾“å‡ºæ’åºç»“æœï¼š['Apple', 'apple pie', 'banana', 'Banana Split', 'cherry', 'cherry tart']// æ–°æ–¹å¼: ä½¿ç”¨è‡ªå®šä¹‰Collatorå¯¹è±¡è¿›è¡Œæ’åºconsole.log(data2.sort(customCollator.compare));Â // è¾“å‡ºæ’åºç»“æœï¼š['Apple', 'apple pie', 'banana', 'Banana Split', 'cherry', 'cherry tart']
```

å¯ä»¥å‘ç°ä¸¤ç§æ–¹å¼ç»“æœä¸€æ ·, ä½†æ˜¯æ˜æ˜¾ Intl. Collator æ›´åŠ ä¼˜é›…, æ˜¯é…ç½®åŒ–çš„.

Intl.**ã€ŒListFormatã€**
---------------------

**ã€Œ`Intl.ListFormat`ã€**Â æ˜¯ JavaScript çš„å›½é™…åŒ– API ä¹‹ä¸€ï¼Œå®ƒç”¨äºæ ¼å¼åŒ–åˆ—è¡¨ï¼Œä»¥ä¾¿åœ¨å¤šè¯­è¨€ç¯å¢ƒä¸­åˆ›å»ºè‡ªç„¶è¯­è¨€çš„åˆ—è¡¨è¡¨ç¤ºã€‚`Intl.ListFormat`Â å…è®¸ä½ æŒ‡å®šåˆ—è¡¨é¡¹çš„è¿æ¥æ–¹å¼ï¼ˆå¦‚é€—å·ã€"å’Œ" ç­‰ï¼‰ï¼Œä»¥åŠåˆ—è¡¨é¡¹çš„æ ·å¼å’Œè¯­è¨€è®¾ç½®ã€‚

```
constÂ listFormatter =Â newÂ Intl.ListFormat('en-US', {Â style:Â 'long',Â type:Â 'disjunction'Â });constÂ items = ['apples',Â 'bananas',Â 'cherries'];constÂ formattedList = listFormatter.format(items);console.log(formattedList);Â // æ ¹æ®é…ç½®è¾“å‡ºä¾‹å¦‚ï¼š"apples, bananas, or cherries"constÂ listFormatter =Â newÂ Intl.ListFormat('en-US', {Â style:Â 'short',Â type:Â 'conjunction'Â });constÂ items = ['apples',Â 'bananas',Â 'cherries'];constÂ formattedList = listFormatter.format(items);console.log(formattedList);Â // æ ¹æ®é…ç½®è¾“å‡ºä¾‹å¦‚ï¼š"apples, bananas, & cherries"constÂ listFormatter =Â newÂ Intl.ListFormat('en-US', {Â style:Â 'narrow',Â type:Â 'conjunction'Â });constÂ items = ['apples',Â 'bananas',Â 'cherries'];constÂ formattedList = listFormatter.format(items);console.log(formattedList);Â // æ ¹æ®é…ç½®è¾“å‡ºä¾‹å¦‚ï¼š"apples, bananas, cherries"
```

å¯ä»¥å‘ç° options å¯ä»¥ä¼ é€’å‚æ•° style å’Œ type, æœ‰å¦‚ä¸‹å–å€¼

1.  **ã€Œæ ·å¼ (style)ã€**:Â **ã€Œ`style`ã€**Â é€‰é¡¹æŒ‡å®šåˆ—è¡¨çš„æ ·å¼ï¼Œæœ‰ä¸‰ä¸ªå¯èƒ½çš„å€¼
    

*   `'long'`ï¼šä½¿ç”¨å®Œæ•´çš„è¯­è¨€è¡¨è¾¾ï¼Œä¾‹å¦‚ "A, B, and C"ã€‚
    
*   `'short'`ï¼šä½¿ç”¨ç¼©ç•¥å½¢å¼ï¼Œä¾‹å¦‚ "A, B, & C"ã€‚
    
*   `'narrow'`ï¼šä½¿ç”¨æç®€çš„å½¢å¼ï¼Œä¾‹å¦‚ "A B C"ã€‚
    

3.  **ã€Œè¿æ¥æ–¹å¼ (type)ã€**:Â **ã€Œ`type`ã€**Â é€‰é¡¹æŒ‡å®šè¿æ¥åˆ—è¡¨é¡¹çš„æ–¹å¼ï¼Œæœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼
    

*   `'conjunction'`ï¼šä½¿ç”¨ "å’Œ"ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œä¾‹å¦‚ "Aã€B å’Œ C"ã€‚
    
*   `'disjunction'`ï¼šä½¿ç”¨ "æˆ–"ï¼Œä¾‹å¦‚ "Aã€B æˆ– C"ã€‚
    

æ—¥å†
==

æ—¥å†æ˜¯ä¸€ç§å¸¸è§çš„ä¸œè¥¿, åœ¨ä¸­å›½æˆ‘ä»¬ç»å¸¸æ¥è§¦åˆ°å…¬å†å’Œå†œå†ï¼Œå…¬å†å…¨ç§°æ ¼é‡Œé«˜åˆ©å†, è‹±æ–‡ gregoryã€‚

ç°åœ¨å›½å®¶èŠ‚æ—¥å¾ˆå¤šéƒ½æ˜¯è·Ÿéšå†œå†çš„ï¼Œæ¯”å¦‚æ˜¥èŠ‚ï¼Œä¸­ç§‹èŠ‚ç­‰ã€‚ä»¥å‰å®¶å®¶äººæ‰‹ä¸€æœ¬å†œå†, ä¸Šé¢ä¼šä»Šæ—¥å®œåšä»€ä¹ˆ, ç°åœ¨å¾ˆå°‘è§ä½†æ˜¯è€äººå®¶è¿˜æ˜¯ä¿¡è¿™ä¸ªã€‚

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGmaGXOCcOaJZ7iaQc1TSfZjc79aNc7M6WsYxINribUl0goVEUJ8P7Ljxg/640?wx_fmt=png&from=appmsg)

è€Œä¸æ­¤ç›¸åŒ, æ¯ä¸ªåœ°æ–¹éƒ½æœ‰è‡ªå·±çš„å†æ³•

1.  **ã€Œä¼Šæ–¯å…°å†ï¼ˆHijri Calendarï¼‰ã€**ï¼šä¹Ÿç§°ä¸ºä¼Šæ–¯å…°å†œå†ï¼Œæ˜¯ä¼Šæ–¯å…°æ•™çš„å®˜æ–¹æ—¥å†ï¼ŒåŸºäºæœˆäº®çš„å¾ªç¯ã€‚ä¼Šæ–¯å…°å†çš„å¹´ä»½æ¯”å…¬å†å¹´ä»½çŸ­ï¼Œæ¯å¹´æœ‰ 12 ä¸ªæœˆï¼Œå› æ­¤å­£èŠ‚æ—¥æœŸä¼šå˜åŒ–ã€‚
    
2.  **ã€Œå¸Œä¼¯æ¥å†ï¼ˆHebrew Calendarï¼‰ã€**ï¼šå¸Œä¼¯æ¥å†æ˜¯çŠ¹å¤ªæ•™çš„å®˜æ–¹æ—¥å†ï¼ŒåŸºäºå¤ªé˜³å’Œæœˆäº®çš„å‘¨æœŸã€‚å®ƒæœ‰ 13 ä¸ªæœˆï¼Œå…¶ä¸­ä¸€äº›æœˆä»½å¯ä»¥æœ‰ä¸åŒçš„å¤©æ•°ï¼Œä»¥ä¿æŒä¸å†œå†å­£èŠ‚çš„ä¸€è‡´æ€§ã€‚
    
3.  **ã€Œå†œå†ï¼ˆLunar Calendarï¼‰ã€**ï¼šå†œå†åŸºäºæœˆäº®çš„å¾ªç¯ï¼Œä¸åŒåœ°åŒºå’Œæ–‡åŒ–æœ‰ä¸åŒçš„å†œå†ç³»ç»Ÿï¼Œå¦‚ä¸­å›½å†œå†ã€éŸ©å›½å†œå†ã€è¶Šå—å†œå†ç­‰ã€‚
    
4.  **ã€Œæ³¢æ–¯å†ï¼ˆPersian Calendarï¼‰ã€**ï¼šæ³¢æ–¯å†ï¼Œä¹Ÿç§°æ³¢æ–¯å¤ªé˜³å†ï¼Œæ˜¯ä¼Šæœ—å’Œä¸€äº›é‚»è¿‘å›½å®¶ä½¿ç”¨çš„å¤ªé˜³å†ï¼Œä¸å…¬å†æœ‰ä¸€äº›å·®å¼‚ã€‚
    
5.  **ã€Œå°åº¦å†æ³•ï¼ˆIndian Calendarï¼‰ã€**ï¼šå°åº¦æœ‰å¤šç§å†æ³•ï¼ŒåŒ…æ‹¬ç»´åŸºå†ï¼ˆVikram Samvatï¼‰ã€å›½æ°‘å†æ³•ï¼ˆSaka Samvatï¼‰ã€æ³°ç±³å°”å†æ³•ï¼ˆTamil Calendarï¼‰ç­‰ã€‚
    
6.  **ã€Œå·´å“ˆä¼Šå†ï¼ˆBahÃ¡'Ã­ Calendarï¼‰ã€**ï¼šå·´å“ˆä¼Šä¿¡ä»°ä½¿ç”¨çš„ç‹¬ç‰¹æ—¥å†ï¼ŒåŒ…æ‹¬ 19 ä¸ªæœˆï¼Œæ¯ä¸ªæœˆ 19 å¤©ã€‚
    
7.  **ã€Œæ°‘æ—å†æ³•ã€**ï¼šä¸€äº›æ–‡åŒ–å’Œæ°‘æ—æ‹¥æœ‰è‡ªå·±çš„ç‹¬ç‰¹å†æ³•ï¼Œç”¨äºçºªå¿µç‰¹å®šå†å²äº‹ä»¶å’ŒèŠ‚æ—¥ã€‚
    

```
constÂ date =Â newÂ Date();Â // å½“å‰æ—¥æœŸ, Mon Oct 30 2023 20:00:50 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)constÂ formattedDate =Â newÂ Intl.DateTimeFormat('ar-SA-u-ca-islamic', {Â year:Â 'numeric',Â month:Â 'long',Â day:Â 'numeric'Â }).format(date);console.log(formattedDate);Â // Ù¡Ù¦ Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ø®Ø± Ù¡Ù¤Ù¤Ù¥ Ù‡Ù€constÂ date =Â newÂ Date(1994,Â 1,Â 26);constÂ formattedDate =Â newÂ Intl.DateTimeFormat('zh-CN-u-ca-chinese', {Â year:Â 'numeric',Â month:Â 'long',Â day:Â 'numeric'Â }).format(date);console.log(formattedDate);Â // 1994ç”²æˆŒå¹´æ­£æœˆ17// ä¸åŒè¯­è¨€ä¸‹ä¸åŒæ—¥å†çš„åç§°constÂ calendarNames =Â newÂ Intl.DisplayNames('en-US', {Â type:Â 'calendar'Â });console.log(calendarNames.of('gregory'));Â // è¾“å‡ºï¼šGregorianconsole.log(calendarNames.of('islamic'));Â // è¾“å‡ºï¼šIslamicconstÂ calendarNames =Â newÂ Intl.DisplayNames('zh-CN', {Â type:Â 'calendar'Â });console.log(calendarNames.of('gregory'));Â // è¾“å‡ºï¼šå…¬å†console.log(calendarNames.of('islamic'));Â // è¾“å‡ºï¼šä¼Šæ–¯å…°å†
```

é™¤äº†ä¸Šè¿° gregory æ ¼é‡Œé«˜åˆ©å†, å–å€¼è¿˜æœ‰ä¸‹é¢è¿™äº›

1.  **"buddhist"**ï¼šä½›æ•™å†ï¼ˆBuddhist Calendarï¼‰
    
2.  **"chinese"**ï¼šä¸­å›½å†œå†ï¼ˆChinese Lunar Calendarï¼‰
    
3.  **"coptic"**ï¼šç§‘æ™®ç‰¹å†ï¼ˆCoptic Calendarï¼‰
    
4.  **"ethiopic"**ï¼šåŸƒå¡ä¿„æ¯”äºšå†ï¼ˆEthiopic Calendarï¼‰
    
5.  **"gregory"**ï¼šæ ¼é‡Œé«˜åˆ©å†ï¼ˆGregorian Calendarï¼Œå³å…¬å†ï¼‰
    
6.  **"hebrew"**ï¼šå¸Œä¼¯æ¥å†ï¼ˆHebrew Calendarï¼‰
    
7.  **"indian"**ï¼šå°åº¦å†æ³•ï¼ˆIndian Calendarï¼‰ï¼ŒåŒ…æ‹¬ç»´åŸºå†ï¼ˆVikram Samvatï¼‰ç­‰
    
8.  **"islamic"**ï¼šä¼Šæ–¯å…°å†ï¼ˆIslamic Calendarï¼‰
    
9.  **"persian"**ï¼šæ³¢æ–¯å†ï¼ˆPersian Calendarï¼‰
    
10.  **"islamic-civil"**ï¼šä¼Šæ–¯å…°å†çš„å…¬æ°‘ç‰ˆæœ¬ï¼ˆIslamic Civil Calendarï¼‰ï¼Œé€šå¸¸ç”¨äºæ–‡ä¹¦ã€åˆåŒç­‰æ°‘äº‹äº‹åŠ¡
    

æ˜ŸæœŸ
--

ä¸å¾—ä¸è¯´æ—¥æœ¬çš„å’Œå†, çœŸçš„æ˜¯å¾ˆç¥å¥‡. ä¸æ˜¯ä¸­æ–‡çš„å‘¨ä¸€åˆ°å‘¨æ—¥, ä¹Ÿä¸æ˜¯ Sunday-Saturday. é¦–å…ˆæ—¥æœ¬è¿˜æœ‰çš‡å¸, æœ‰çš‡å¸å°±æœ‰å¹´å·. å¸¸è§ä¸‹é¢çš„ä¸€äº›å¹´ä»½

1.  **ã€Œæ˜æ²»æ—¶ä»£ (Meiji Era)ã€**:
    

*   å¹´å·ï¼šæ˜æ²»ï¼ˆMeijiï¼‰
    
*   å¹´ä»½èŒƒå›´ï¼š1868 å¹´ - 1912 å¹´
    
*   æ³¨é‡Šï¼šæ˜æ²»æ—¶ä»£æ ‡å¿—ç€æ—¥æœ¬çš„è¿‘ä»£åŒ–å’Œå·¥ä¸šåŒ–çš„å¼€å§‹ã€‚
    

3.  **ã€Œå¤§æ­£æ—¶ä»£ (Taisho Era)ã€**:
    

*   å¹´å·ï¼šå¤§æ­£ï¼ˆTaishoï¼‰
    
*   å¹´ä»½èŒƒå›´ï¼š1912 å¹´ - 1926 å¹´
    
*   æ³¨é‡Šï¼šå¤§æ­£æ—¶ä»£æ˜¯æ—¥æœ¬çš„ä¸€ä¸ªç›¸å¯¹çŸ­æš‚æ—¶æœŸï¼Œä¹Ÿæ ‡å¿—ç€æ—¥æœ¬çš„ä¸€äº›æ”¿æ²»å’Œç¤¾ä¼šå˜é©ã€‚
    

5.  **ã€Œæ˜­å’Œæ—¶ä»£ (Showa Era)ã€**:
    

*   å¹´å·ï¼šæ˜­å’Œï¼ˆShowaï¼‰
    
*   å¹´ä»½èŒƒå›´ï¼š1926 å¹´ - 1989 å¹´
    
*   æ³¨é‡Šï¼šæ˜­å’Œæ—¶ä»£è§è¯äº†æ—¥æœ¬çš„æˆ˜äº‰å’Œæˆ˜åé‡å»ºï¼Œä»¥åŠæ—¥æœ¬æˆä¸ºç°ä»£å·¥ä¸šå¼ºå›½ã€‚
    

7.  **ã€Œå¹³æˆæ—¶ä»£ (Heisei Era)ã€**:
    

*   å¹´å·ï¼šå¹³æˆï¼ˆHeiseiï¼‰
    
*   å¹´ä»½èŒƒå›´ï¼š1989 å¹´ - 2019 å¹´
    
*   æ³¨é‡Šï¼šå¹³æˆæ—¶ä»£åŒ…æ‹¬äº†æ—¥æœ¬çš„ç»æµç¹è£å’Œä¸€äº›ç¤¾ä¼šå˜é©ã€‚
    

9.  **ã€Œä»¤å’Œæ—¶ä»£ (Reiwa Era)ã€**: ä»¤å’Œç³»å¥¥ç‰¹æ›¼ (https://baike.baidu.com/item/%E4%BB%A4%E5%92%8C%E7%B3%BB%E5%A5%A5%E7%89%B9%E6%9B%BC/50340521)
    

*   å¹´å·ï¼šä»¤å’Œï¼ˆReiwaï¼‰
    
*   å¹´ä»½èŒƒå›´ï¼š2019 å¹´ - è‡³ä»Š
    
*   æ³¨é‡Šï¼šä»¤å’Œæ—¶ä»£æ˜¯æ—¥æœ¬å½“å‰çš„å¹´å·ï¼Œå§‹äº 2019 å¹´ 5 æœˆ 1 æ—¥ï¼Œæ ‡å¿—ç€æ–°çš„æ—¶ä»£çš„å¼€å§‹ã€‚
    

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGiaKnzHsEYsxEYZHrmIXZBdJxKxqvDrUzFer7MGPlOzHyOmzTl8bIq0g/640?wx_fmt=png&from=appmsg)

å¯ä»¥çœ‹åˆ°æ—¥æœ¬çš„æ—¥å†èµ·å§‹æ—¶å‘¨æ—¥ (æ—¥), ä½†æ˜¯å‘¨ä¸€åˆ°å‘¨å…­åˆ†åˆ«å¯¹åº”æœˆç«æ°´æœ¨é‡‘åœŸ. ä¸ä¼—ä¸åŒ

```
// è·å–ä»Šå¤©è¿‡å»7å¤©çš„æ—¥æœŸ// æ—¥æœŸå¯¹è±¡constÂ today =Â newÂ Date();// åˆ›å»ºä¸€ä¸ªé€‰é¡¹å¯¹è±¡ï¼ŒæŒ‡å®šè¾“å‡ºçš„è¯­è¨€å’Œé£æ ¼constÂ optionsCN = {Â weekday:Â 'long'Â };constÂ optionsJP = {Â weekday:Â 'long'Â };// è·å–è¿‡å»ä¸€å‘¨çš„æ—¥æœŸconsole.log('\nè¿‡å»ä¸€å‘¨çš„æ—¥æœŸï¼š');constÂ CNArr = []constÂ JPArr = []forÂ (letÂ i =Â 0; i <Â 7; i++) {Â Â constÂ pastDate =Â newÂ Date(today);Â  pastDate.setDate(today.getDate() - i);Â  CNArr.unshift(newÂ Intl.DateTimeFormat('zh-CN', optionsCN).format(pastDate))Â JPArr.unshift(newÂ Intl.DateTimeFormat('ja-JP', optionsJP).format(pastDate))}console.log('CNArr', CNArr.join(' '))Â // CNArr æ˜ŸæœŸäºŒ æ˜ŸæœŸä¸‰ æ˜ŸæœŸå›› æ˜ŸæœŸäº” æ˜ŸæœŸå…­ æ˜ŸæœŸæ—¥ æ˜ŸæœŸä¸€console.log('JPArr', JPArr.join(' '))Â // JPArr ç«æ›œæ—¥ æ°´æ›œæ—¥ æœ¨æ›œæ—¥ é‡‘æ›œæ—¥ åœŸæ›œæ—¥ æ—¥æ›œæ—¥ æœˆæ›œæ—¥
```

æ—¥å†å•ä½
----

```
constÂ dateTimeFields =Â newÂ Intl.DisplayNames('en-US', {Â type:Â 'dateTimeField'Â });console.log(dateTimeFields.of('era'));Â // è¾“å‡ºï¼šEra, çºªå…ƒçš„æ„æ€console.log(dateTimeFields.of('year'));Â // è¾“å‡ºï¼šYearconsole.log(dateTimeFields.of('month'));Â // è¾“å‡ºï¼šMonthconsole.log(dateTimeFields.of('day'));Â // è¾“å‡ºï¼šDayconsole.log(dateTimeFields.of('weekday'));Â // è¾“å‡ºï¼šDay of the weekconsole.log(dateTimeFields.of('hour'));Â // è¾“å‡ºï¼šHourconsole.log(dateTimeFields.of('minute'));Â // è¾“å‡ºï¼šMinuteconsole.log(dateTimeFields.of('second'));Â // è¾“å‡ºï¼šSecondconsole.log(dateTimeFields.of('quarter'));Â // è¾“å‡ºï¼šQuarterconstÂ dateTimeFields =Â newÂ Intl.DisplayNames('ja-JP', {Â type:Â 'dateTimeField'Â });console.log(dateTimeFields.of('era'));Â // è¾“å‡ºï¼šæ™‚ä»£console.log(dateTimeFields.of('year'));Â // è¾“å‡ºï¼šå¹´console.log(dateTimeFields.of('month'));Â // è¾“å‡ºï¼šæœˆconsole.log(dateTimeFields.of('day'));Â // è¾“å‡ºï¼šæ—¥console.log(dateTimeFields.of('weekday'));Â // è¾“å‡ºï¼šæ›œæ—¥console.log(dateTimeFields.of('hour'));Â // è¾“å‡ºï¼šæ™‚console.log(dateTimeFields.of('minute'));Â // è¾“å‡ºï¼šåˆ†console.log(dateTimeFields.of('second'));Â // è¾“å‡ºï¼šç§’console.log(dateTimeFields.of('quarter'));Â // è¾“å‡ºï¼šå››åŠæœŸ
```

æ¯å‘¨ç¬¬ä¸€å¤©
-----

en-US ä¸€èˆ¬æ¯å‘¨ç¬¬ä¸€å¤©æ˜¯å‘¨æ—¥, è€Œ zh-CN ä¸€èˆ¬æ¯å‘¨ç¬¬ä¸€å¤©æ˜¯å‘¨ä¸€. å¯ä»¥é€šè¿‡å¦‚ä¸‹ä¿¡æ¯åˆ¤æ–­

Intl. Locale å‡½æ•°è¿”å›å±æ€§é‡Œ firstDay æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå…¶ä¸­ 0 æˆ– 7 è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼Œ1 è¡¨ç¤ºæ˜ŸæœŸä¸€ï¼Œä¾æ­¤ç±»æ¨ã€‚ä¸åŒçš„åœ°åŒºå’Œæ–‡åŒ–å¯èƒ½ä¼šå°†æ¯å‘¨çš„ç¬¬ä¸€å¤©è®¾ç½®ä¸ºä¸åŒçš„æ—¥æœŸï¼Œå› æ­¤è¿™ä¸ªå±æ€§å¯ä»¥å¸®åŠ©ä½ ç¡®å®šæ¯å‘¨çš„èµ·å§‹æ—¥æœŸï¼Œä¾‹å¦‚ï¼Œæ˜ŸæœŸå¤©æˆ–æ˜ŸæœŸä¸€ã€‚

```
(newÂ Intl.Locale('zh-CN')).weekInfoÂ // {"firstDay":1,"weekend":[6,7],"minimalDays":1}(newÂ Intl.Locale('en-US')).weekInfoÂ // {"firstDay":7,"weekend":[6,7],"minimalDays":1}constÂ locale =Â 'zh-CN'console.log(newÂ Intl.DateTimeFormat(locale, {Â weekday:Â "long"Â }).format(newÂ Date(0,Â 0,Â newÂ Intl.Locale(locale).weekInfo.firstDay)))Â // 'æ˜ŸæœŸä¸€'constÂ locale =Â 'en-US'console.log(newÂ Intl.DateTimeFormat(locale, {Â weekday:Â "long"Â }).format(newÂ Date(0,Â 0,Â newÂ Intl.Locale(locale).weekInfo.firstDay)))Â // 'Sunday'
```

èƒ½ç”Ÿæ•ˆçš„åŸå› å°±æ˜¯Â `new Date(0,0,7)`Â ç­‰ä»·äºÂ `new Date(1900,0,7)`Â å¯¹åº” 1900.1.7(UTC+0), æ­¤æ—¶å¯¹åº” us çš„ sunday. è€ŒÂ `new Date(0,0,1)`Â å¯¹åº” 1900.1.1(UTC+0), å¯¹åº” cn çš„æ˜ŸæœŸä¸€

å¦‚ä½•å†™ä¸€ä¸ªå›½é™…åŒ–æ—¥å†ç»„ä»¶
------------

1.  zh-CN ä¸‹æ˜¯æ˜ŸæœŸä¸€å¼€å¤´
    
2.  en-US æ˜¯ Sunday å¼€å¤´
    
3.  æ—¥è¯­ç¯å¢ƒç¬¦åˆ ç«æ›œæ—¥ æ°´æ›œæ—¥ æœ¨æ›œæ—¥ é‡‘æ›œæ—¥ åœŸæ›œæ—¥ æ—¥æ›œæ—¥ æœˆæ›œæ—¥ç­‰æè¿°
    

Intl-region-language-calendarï¼šhttps://codesandbox.io/p/devbox/intl-region-language-calendar-xm7ls8?embed=1&file=%2Fsrc%2FApp.tsx

#### å®ç°ç»†èŠ‚

1.  å¦‚ä½•è·å–ä¸€å‘¨çš„ç¬¬ä¸€å¤©
    

```
constÂ localeUS =Â 'en-US'newÂ Intl.DateTimeFormat(localeUS, {Â weekday:Â "long"Â }).format(newÂ Date(0,Â 0,Â newÂ Intl.Locale(localeUS).weekInfo.firstDay))Â // 'Sunday'constÂ localeCN =Â 'zh-CN'newÂ Intl.DateTimeFormat(localeCN, {Â weekday:Â "long"Â }).format(newÂ Date(0,Â 0,Â newÂ Intl.Locale(localeCN).weekInfo.firstDay))Â // 'æ˜ŸæœŸä¸€'
```

1.  è¾“å‡ºä¸€å‘¨ 7 å¤©
    

```
constÂ locale =Â "en-US";constÂ firstDay =Â newÂ Intl.Locale(locale).weekInfo.firstDay;constÂ formatInstace =Â newÂ Intl.DateTimeFormat(locale, {Â weekday:Â "long"Â });forÂ (letÂ i =Â 0; i <Â 7; i++) {Â Â console.log(formatInstace.format(newÂ Date(0,Â 0, firstDay + i)));}// Sunday// Monday// Tuesday// Wednesday// Thursday// Friday// SaturdayconstÂ localeCN =Â "zh-CN";constÂ firstDayCN =Â newÂ Intl.Locale(localeCN).weekInfo.firstDay;constÂ formatInstaceCN =Â newÂ Intl.DateTimeFormat(localeCN, {Â weekday:Â "long"Â });forÂ (letÂ i =Â 0; i <Â 7; i++) {Â Â console.log(formatInstaceCN.format(newÂ Date(0,Â 0, firstDayCN + i)));}// æ˜ŸæœŸä¸€// æ˜ŸæœŸäºŒ// æ˜ŸæœŸä¸‰// æ˜ŸæœŸå››// æ˜ŸæœŸäº”// æ˜ŸæœŸå…­// æ˜ŸæœŸæ—¥
```

Intl æ”¯æŒ
=======

æ”¯æŒæŸ¥è¯¢
----

å¯ä»¥é€šè¿‡ API,Â `Intl.supportedValuesOf`Â è·å–åˆ°æ‰€æœ‰æ”¯æŒçš„

```
constÂ calendars =Â Intl.supportedValuesOf("calendar");console.log(calendars);Â // è¾“å‡ºæ‰€æœ‰æ”¯æŒçš„æ—¥å†ç³»ç»Ÿ// (18) ['buddhist', 'chinese', 'coptic', 'dangi', 'ethioaa', 'ethiopic', 'gregory', 'hebrew', 'indian', 'islamic', 'islamic-civil', 'islamic-rgsa', 'islamic-tbla', 'islamic-umalqura', 'iso8601', 'japanese', 'persian', 'roc']constÂ currencies =Â Intl.supportedValuesOf("currency");console.log(currencies);Â // è¾“å‡ºæ‰€æœ‰æ”¯æŒçš„è´§å¸ä»£ç // (159) ['AED', 'AFN', 'ALL', 'AMD', 'ANG', 'AOA', 'ARS', 'AUD', 'AWG', 'AZN', 'BAM', 'BBD', 'BDT', 'BGN', 'BHD', 'BIF', 'BMD', 'BND', 'BOB', 'BRL', 'BSD', 'BTN', 'BWP', 'BYN', 'BZD', 'CAD', 'CDF', 'CHF', 'CLP', 'CNY', 'COP', 'CRC', 'CUC', 'CUP', 'CVE', 'CZK', 'DJF', 'DKK', 'DOP', 'DZD', 'EGP', 'ERN', 'ETB', 'EUR', 'FJD', 'FKP', 'GBP', 'GEL', 'GHS', 'GIP', 'GMD', 'GNF', 'GTQ', 'GYD', 'HKD', 'HNL', 'HRK', 'HTG', 'HUF', 'IDR', 'ILS', 'INR', 'IQD', 'IRR', 'ISK', 'JMD', 'JOD', 'JPY', 'KES', 'KGS', 'KHR', 'KMF', 'KPW', 'KRW', 'KWD', 'KYD', 'KZT', 'LAK', 'LBP', 'LKR', 'LRD', 'LSL', 'LYD', 'MAD', 'MDL', 'MGA', 'MKD', 'MMK', 'MNT', 'MOP', 'MRU', 'MUR', 'MVR', 'MWK', 'MXN', 'MYR', 'MZN', 'NAD', 'NGN', 'NIO', â€¦]constÂ timeZones =Â Intl.supportedValuesOf("timeZone");console.log(timeZones);Â // è¾“å‡ºæ‰€æœ‰æ”¯æŒçš„æ—¶åŒº// (428) ['Africa/Abidjan', 'Africa/Accra', 'Africa/Addis_Ababa', 'Africa/Algiers', 'Africa/Asmera', 'Africa/Bamako', 'Africa/Bangui', 'Africa/Banjul', 'Africa/Bissau', 'Africa/Blantyre', 'Africa/Brazzaville', 'Africa/Bujumbura', 'Africa/Cairo', 'Africa/Casablanca', 'Africa/Ceuta', 'Africa/Conakry', 'Africa/Dakar', 'Africa/Dar_es_Salaam', 'Africa/Djibouti', 'Africa/Douala', 'Africa/El_Aaiun', 'Africa/Freetown', 'Africa/Gaborone', 'Africa/Harare', 'Africa/Johannesburg', 'Africa/Juba', 'Africa/Kampala', 'Africa/Khartoum', 'Africa/Kigali', 'Africa/Kinshasa', 'Africa/Lagos', 'Africa/Libreville', 'Africa/Lome', 'Africa/Luanda', 'Africa/Lubumbashi', 'Africa/Lusaka', 'Africa/Malabo', 'Africa/Maputo', 'Africa/Maseru', 'Africa/Mbabane', 'Africa/Mogadishu', 'Africa/Monrovia', 'Africa/Nairobi', 'Africa/Ndjamena', 'Africa/Niamey', 'Africa/Nouakchott', 'Africa/Ouagadougou', 'Africa/Porto-Novo', 'Africa/Sao_Tome', 'Africa/Tripoli', 'Africa/Tunis', 'Africa/Windhoek', 'America/Adak', 'America/Anchorage', 'America/Anguilla', 'America/Antigua', 'America/Araguaina', 'America/Argentina/La_Rioja', 'America/Argentina/Rio_Gallegos', 'America/Argentina/Salta', 'America/Argentina/San_Juan', 'America/Argentina/San_Luis', 'America/Argentina/Tucuman', 'America/Argentina/Ushuaia', 'America/Aruba', 'America/Asuncion', 'America/Bahia', 'America/Bahia_Banderas', 'America/Barbados', 'America/Belem', 'America/Belize', 'America/Blanc-Sablon', 'America/Boa_Vista', 'America/Bogota', 'America/Boise', 'America/Buenos_Aires', 'America/Cambridge_Bay', 'America/Campo_Grande', 'America/Cancun', 'America/Caracas', 'America/Catamarca', 'America/Cayenne', 'America/Cayman', 'America/Chicago', 'America/Chihuahua', 'America/Ciudad_Juarez', 'America/Coral_Harbour', 'America/Cordoba', 'America/Costa_Rica', 'America/Creston', 'America/Cuiaba', 'America/Curacao', 'America/Danmarkshavn', 'America/Dawson', 'America/Dawson_Creek', 'America/Denver', 'America/Detroit', 'America/Dominica', 'America/Edmonton', 'America/Eirunepe', â€¦]
```

ä½ç‰ˆæœ¬å…¼å®¹
-----

Intl æ˜¯æµè§ˆå™¨å¯¹ i18n æä¾›çš„åº•å±‚ API, ç”¨äºå¤„ç†å›½é™…åŒ–ç›¸å…³å†…å®¹. é™„å¸¦ browerstack äº‘çœŸæœºæµ‹è¯•å·¥å…· (caniuse æ¨è): https://live.browserstack.com/dashboard å¦‚æœæ²¡å¤„ç†å¥½å…¼å®¹æ€§é—®é¢˜ç›´æ¥ä½¿ç”¨ API, ä¼šæŠ¥ JS Error. å†…å®¹ä¸º`Intl.DisplayNames is not a constructor`

å¯¹åº”çš„, ä¸€äº›æ“ä½œç³»ç»Ÿä½ç‰ˆæœ¬çš„ç”¨æˆ· (é•¿æœŸä¸å‡çº§ç³»ç»Ÿ) ä¼šé‡åˆ° JS Error å¯¼è‡´ç™½å±

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGCr23jvR08lmUkqDd4ibdPt0u5NfDjdov994YxgVawfBcrzch6eycAEg/640?wx_fmt=png&from=appmsg)Google pixel4(2019, October 15 å‘è¡Œ)

### formatjs

å¯ä»¥ç”¨ formatjs æä¾›çš„ polyfill åšä½ç‰ˆæœ¬å…¼å®¹: https://formatjs.io/docs/getting-started/installation

1.  æ”¯æŒå…³ç³»æœ‰å…ˆåä¾èµ–, éœ€è¦æŒ‰ç…§ä¾èµ–é¡ºåºä¾æ¬¡å€’å…¥å¯¹åº”çš„åŒ…![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGImngVA9L1pB4MtCAzxdeiac5b1uRnFWvxNXyjKZwPr2dlXo5iaicm1sQA/640?wx_fmt=png&from=appmsg)
    
2.  ç§»åŠ¨ç«¯åœºæ™¯å¦‚å°ç¨‹åº, å¦‚æœå…¨é‡å¯¼å…¥ç§»åŠ¨ç«¯åœºæ™¯ä¼šè®©åŒ…ä½“ç§¯çˆ†ç‚¸ (æ™®é€šå‹ç¼©åŒ… Gzip å 2.6M, å…¨é‡å¯¼å…¥åä¼šåˆ° 9.1M). æœ€å polyfill æŒ‰ç…§é¡ºåºä¾æ¬¡å¯¼å…¥, ä¸”ç§»åŠ¨ç«¯åœºæ™¯åªå…œåº•è‹±æ–‡éƒ¨åˆ†, é™åˆ¶åŒ…ä½“ç§¯åœ¨ 3M å†…
    

```
asyncÂ functionÂ loadPolyfill()Â {Â  Â Â // å¦‚æœå½“å‰ç¯å¢ƒä¸æ”¯æŒ Intl æˆ–è€… Intl.DisplayNamesÂ  Â Â ifÂ (!window.Intl || !window.Intl.DisplayNames) {Â  Â  Â  Â Â window.Intl =Â window.Intl || {}Â  Â  Â  Â Â // åŠ è½½ polyfillÂ  Â  Â  Â Â awaitÂ import('@formatjs/intl-getcanonicallocales/polyfill-force')Â  Â  Â  Â Â awaitÂ import('@formatjs/intl-locale/polyfill-force')Â  Â  Â  Â Â awaitÂ import('@formatjs/intl-displaynames/polyfill-force')Â  Â  Â  Â Â awaitÂ import('@formatjs/intl-displaynames/locale-data/en')Â  Â  Â  Â Â returnÂ falseÂ  Â  }Â elseÂ {Â  Â  Â  Â Â // å½“å‰ç¯å¢ƒæ”¯æŒ Intl.DisplayNames APIï¼Œä¸éœ€è¦ PolyfillÂ  Â  Â  Â Â returnÂ trueÂ  Â  }}
```

### Why not Babel?

ä¼—æ‰€å‘¨çŸ¥ Babel æœ‰ä¸€ä¸ª babel-preset-env(https://www.babeljs.cn/docs/babel-preset-env#how-does-it-work), ç”¨äºåœ¨ç¼–è¯‘ä»£ç æ—¶æ™ºèƒ½ (åŸºäº core-js-compat(https://www.npmjs.com/package/core-js-compat)) å¼•å…¥ helper å’Œ polyfill æ™ºèƒ½çš„å«ä¹‰: å¯ä»¥è®¾ç½®æœ€ä½å…¼å®¹çš„æµè§ˆå™¨ (https://github.com/browserslist/browserslist#queries) å’Œä»£ç , åŠ¨æ€å¼•ç”¨æ‰€éœ€çš„ helper å’Œ polyfill

```
// babel.config.jsmodule.exports = {Â Â presets: [Â  Â  [Â  Â  Â Â '@babel/preset-env',Â  Â  Â  {Â  Â  Â  Â Â useBuiltIns:Â 'usage',Â // æ ¹æ®æ¯ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œç”¨åˆ°äº†å“ªäº›esçš„æ–°ç‰¹æ€§å’Œtargetså¯¼å…¥polyfillï¼Œæ›´åŠ ç²¾ç®€Â  Â  Â  Â Â corejs:Â 3,Â // æŒ‡å®š core-js ç‰ˆæœ¬Â  Â  Â  Â Â targets:Â "> 0.25%, not dead"Â // æŒ‡å®šç›®æ ‡æµè§ˆå™¨, é€‰å–å…¨çƒä½¿ç”¨ç‡è¶…è¿‡ 0.25% çš„æµè§ˆå™¨ç‰ˆæœ¬Â  Â  Â  },Â  Â  ],Â  ],};
```

**ã€Œbabel åº•å±‚ä½¿ç”¨ core-js(https://github.com/zloirock/core-js) è¿›è¡Œ polyfill, ä½†æ˜¯ core-js ä¸åŒ…å« Intl API éƒ¨åˆ†çš„ polyfill(https://github.com/zloirock/core-js?tab=readme-ov-file#missing-polyfills), æ‰€ä»¥ babel å¹¶ä¸èƒ½ä¸º Intl API åš polyfillã€**

![](https://mmbiz.qpic.cn/mmbiz_png/lP9iauFI73zibGur3rh5gH17DRH0M0l7ibGf4ibT7uUvzAR27fKTf66cvFicED9IfyKrCX1XauOEibaSJicuoIqj77lQQ/640?wx_fmt=png&from=appmsg)

Nodejs ä½¿ç”¨
---------

1.  å®‰è£…
    

```
npm i @formatjs/intl
```

1.  ä½¿ç”¨
    

```
importÂ {createIntl, createIntlCache}Â fromÂ '@formatjs/intl'// This is optional but highly recommended// since it prevents memory leakconstÂ cache = createIntlCache()constÂ intlFr = createIntl(Â  {Â  Â Â locale:Â 'fr-FR',Â  Â Â messages: {},Â  },Â  cache)constÂ intlEn = createIntl(Â  {Â  Â Â locale:Â 'en-US',Â  Â Â message: {},Â  Â  cacheÂ  })// Call imperativelyconsole.log(intlFr.formatNumber(2000000000000))Â // 2 000 000 000 000console.log(intlEn.formatNumber(2000000000000))Â // 2,000,000,000,000
```